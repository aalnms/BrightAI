<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù†Ø¸Ø§Ù… Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ Ø§Ù„Ù…ØªÙ‚Ø¯Ù… Ù„Ø§Ø³ØªÙ‚Ø·Ø§Ø¨ Ø§Ù„Ù…ÙˆØ§Ù‡Ø¨ - Ù…Ø´Ø±Ù‚Ø© AI</title>
    <link rel="icon" type="image/png" href="logo.png">
    <link rel="apple-touch-icon" sizes="180x180" href="logo.png">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-color: #3498db;
            --secondary-color: #2c3e50;
            --success-color: #27ae60;
            --warning-color: #f39c12;
            --danger-color: #e74c3c;
            --light-bg: #f8f9fa;
            --shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
            --shadow-hover: 0 15px 35px rgba(0, 0, 0, 0.15);
            --border-radius: 15px;
            --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            overflow-x: hidden;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            background: rgba(255, 255, 255, 0.95);
            padding: 40px 20px;
            border-radius: var(--border-radius);
            margin-bottom: 30px;
            box-shadow: var(--shadow);
            backdrop-filter: blur(10px);
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--primary-color), var(--success-color), var(--warning-color));
        }

        .header h1 {
            color: var(--secondary-color);
            font-size: 2.8rem;
            margin-bottom: 15px;
            font-weight: 700;
            background: linear-gradient(45deg, var(--primary-color), var(--secondary-color));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .header .subtitle {
            color: #7f8c8d;
            font-size: 1.3rem;
            margin-bottom: 25px;
            line-height: 1.8;
        }

        .company-logo {
            background: linear-gradient(45deg, var(--primary-color), #9b59b6);
            color: white;
            padding: 15px 30px;
            border-radius: 30px;
            display: inline-block;
            font-weight: bold;
            font-size: 1.1rem;
            margin-top: 15px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .stats-overview {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: rgba(255, 255, 255, 0.95);
            padding: 25px;
            border-radius: var(--border-radius);
            text-align: center;
            box-shadow: var(--shadow);
            transition: var(--transition);
            position: relative;
            overflow: hidden;
        }

        .stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, var(--primary-color), var(--success-color));
        }

        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-hover);
        }

        .stat-number {
            font-size: 2.5rem;
            font-weight: bold;
            color: var(--primary-color);
            margin-bottom: 10px;
            display: block;
        }

        .stat-label {
            color: #666;
            font-size: 1rem;
            font-weight: 500;
        }

        .grid-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 25px;
            margin-bottom: 30px;
        }

        .section-card {
            background: rgba(255, 255, 255, 0.95);
            padding: 30px;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            transition: var(--transition);
            position: relative;
            backdrop-filter: blur(10px);
        }

        .section-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-hover);
        }

        .section-title {
            color: var(--secondary-color);
            font-size: 1.6rem;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 3px solid var(--primary-color);
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .section-icon {
            font-size: 1.8rem;
            background: linear-gradient(45deg, var(--primary-color), var(--success-color));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .input-group {
            margin-bottom: 20px;
            position: relative;
        }

        .input-group label {
            display: block;
            margin-bottom: 8px;
            color: #555;
            font-weight: 500;
            font-size: 1rem;
        }

        .file-input-wrapper {
            position: relative;
            display: block;
            width: 100%;
            border: 2px dashed var(--primary-color);
            border-radius: 10px;
            padding: 30px;
            text-align: center;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            cursor: pointer;
            transition: var(--transition);
        }

        .file-input-wrapper:hover {
            border-color: var(--secondary-color);
            background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%);
            transform: scale(1.02);
        }

        .file-input-wrapper.dragover {
            border-color: var(--success-color);
            background: linear-gradient(135deg, #e8f5e8 0%, #c8e6c9 100%);
            transform: scale(1.05);
        }

        .file-input {
            position: absolute;
            opacity: 0;
            width: 100%;
            height: 100%;
            cursor: pointer;
        }

        .file-input-text {
            pointer-events: none;
            color: #666;
            font-size: 1.1rem;
        }

        .file-input-icon {
            font-size: 3rem;
            color: var(--primary-color);
            margin-bottom: 10px;
            display: block;
        }

        input[type="text"], textarea, select {
            width: 100%;
            padding: 15px;
            border: 2px solid #e1e8ed;
            border-radius: 10px;
            font-size: 15px;
            transition: var(--transition);
            background: #fff;
            font-family: inherit;
        }

        input[type="text"]:focus, textarea:focus, select:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.1);
            transform: translateY(-2px);
        }

        .btn {
            background: linear-gradient(45deg, var(--primary-color), #2980b9);
            color: white;
            padding: 15px 30px;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            transition: var(--transition);
            width: 100%;
            margin-top: 15px;
            position: relative;
            overflow: hidden;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.5s;
        }

        .btn:hover::before {
            left: 100%;
        }

        .btn:hover {
            background: linear-gradient(45deg, #2980b9, #1f5f8b);
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
        }

        .btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .btn-secondary {
            background: linear-gradient(45deg, var(--danger-color), #c0392b);
        }

        .btn-secondary:hover {
            background: linear-gradient(45deg, #c0392b, #a93226);
        }

        .btn-success {
            background: linear-gradient(45deg, var(--success-color), #229954);
        }

        .btn-success:hover {
            background: linear-gradient(45deg, #229954, #1e8449);
        }

        .btn-warning {
            background: linear-gradient(45deg, var(--warning-color), #e67e22);
        }

        .output-box {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border: 1px solid #dee2e6;
            border-radius: 10px;
            padding: 25px;
            margin-top: 20px;
            min-height: 120px;
            white-space: pre-wrap;
            font-family: 'Segoe UI', sans-serif;
            font-size: 15px;
            line-height: 1.6;
            box-shadow: inset 0 2px 10px rgba(0, 0, 0, 0.1);
            position: relative;
            overflow: hidden;
        }

        .output-box.success {
            background: linear-gradient(135deg, #e8f5e8 0%, #c8e6c9 100%);
            border-color: var(--success-color);
        }

        .output-box.error {
            background: linear-gradient(135deg, #ffebee 0%, #ffcdd2 100%);
            border-color: var(--danger-color);
        }

        .loading-container {
            display: none;
            text-align: center;
            padding: 30px;
            color: var(--primary-color);
        }

        .loading-spinner {
            width: 50px;
            height: 50px;
            border: 4px solid #e3f2fd;
            border-top: 4px solid var(--primary-color);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .progress-container {
            margin: 20px 0;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: #e9ecef;
            border-radius: 4px;
            overflow: hidden;
            box-shadow: inset 0 2px 5px rgba(0, 0, 0, 0.1);
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(45deg, var(--primary-color), var(--success-color));
            width: 0%;
            transition: width 0.3s ease;
            position: relative;
        }

        .progress-fill::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            bottom: 0;
            right: 0;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            animation: shimmer 2s infinite;
        }

        @keyframes shimmer {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        .chat-container {
            max-height: 400px;
            overflow-y: auto;
            border: 1px solid #dee2e6;
            border-radius: 10px;
            padding: 20px;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            margin-bottom: 20px;
            box-shadow: inset 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        .chat-message {
            margin-bottom: 20px;
            padding: 15px 20px;
            border-radius: 15px;
            position: relative;
            animation: messageSlide 0.3s ease-out;
        }

        @keyframes messageSlide {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .user-message {
            background: linear-gradient(135deg, var(--primary-color), #3498db);
            color: white;
            margin-left: 50px;
            border-bottom-left-radius: 5px;
        }

        .ai-message {
            background: linear-gradient(135deg, #fff, #f8f9fa);
            color: #333;
            margin-right: 50px;
            border: 1px solid #e1e8ed;
            border-bottom-right-radius: 5px;
        }

        .rating-container {
            display: flex;
            align-items: center;
            gap: 15px;
            margin: 20px 0;
            padding: 20px;
            background: linear-gradient(135deg, #fff 0%, #f8f9fa 100%);
            border-radius: 10px;
            border: 1px solid #e1e8ed;
        }

        .stars {
            display: flex;
            gap: 5px;
        }

        .star {
            font-size: 1.5rem;
            color: #ddd;
            cursor: pointer;
            transition: var(--transition);
        }

        .star.active,
        .star:hover {
            color: #ffd700;
            transform: scale(1.2);
        }

        .compatibility-score {
            text-align: center;
            margin: 25px 0;
            padding: 30px;
            background: linear-gradient(135deg, var(--primary-color) 0%, #3498db 100%);
            color: white;
            border-radius: 15px;
            position: relative;
            overflow: hidden;
        }

        .compatibility-score::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(255,255,255,0.1), transparent);
            animation: rotate 3s linear infinite;
        }

        @keyframes rotate {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .score-number {
            font-size: 3rem;
            font-weight: bold;
            margin-bottom: 10px;
            position: relative;
            z-index: 1;
        }

        .score-label {
            font-size: 1.2rem;
            opacity: 0.9;
            position: relative;
            z-index: 1;
        }

        .questions-list {
            list-style: none;
            padding: 0;
        }

        .questions-list li {
            background: linear-gradient(135deg, #fff 0%, #f8f9fa 100%);
            margin: 15px 0;
            padding: 20px;
            border-radius: 10px;
            border-right: 4px solid var(--primary-color);
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            transition: var(--transition);
            position: relative;
        }

        .questions-list li:hover {
            transform: translateX(-10px);
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.15);
        }

        .questions-list li::before {
            content: counter(question-counter);
            counter-increment: question-counter;
            position: absolute;
            right: 20px;
            top: 15px;
            background: var(--primary-color);
            color: white;
            width: 25px;
            height: 25px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8rem;
            font-weight: bold;
        }

        .questions-list {
            counter-reset: question-counter;
        }

        .audio-controls {
            display: flex;
            gap: 15px;
            margin: 20px 0;
            flex-wrap: wrap;
        }

        .audio-controls button {
            flex: 1;
            min-width: 150px;
        }

        .recording-indicator {
            display: none;
            background: linear-gradient(45deg, var(--danger-color), #e74c3c);
            color: white;
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            margin: 15px 0;
            animation: recordingPulse 1.5s infinite;
            box-shadow: 0 0 20px rgba(231, 76, 60, 0.5);
        }

        @keyframes recordingPulse {
            0%, 100% { 
                opacity: 1; 
                transform: scale(1);
            }
            50% { 
                opacity: 0.7; 
                transform: scale(1.05);
            }
        }

        .candidate-profile {
            background: linear-gradient(135deg, var(--secondary-color) 0%, #34495e 100%);
            color: white;
            padding: 30px;
            border-radius: 15px;
            margin: 20px 0;
            position: relative;
            overflow: hidden;
        }

        .candidate-profile::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, transparent, rgba(255,255,255,0.1), transparent);
            animation: slideShimmer 3s infinite;
        }

        @keyframes slideShimmer {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        .value-proposition {
            background: linear-gradient(135deg, var(--secondary-color) 0%, #34495e 100%);
            color: white;
            padding: 50px;
            border-radius: 20px;
            margin: 40px 0;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .value-proposition::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
            animation: float 6s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translate(0, 0) rotate(0deg); }
            33% { transform: translate(30px, -30px) rotate(120deg); }
            66% { transform: translate(-20px, 20px) rotate(240deg); }
        }

        .value-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 25px;
            margin-top: 40px;
            position: relative;
            z-index: 1;
        }

        .value-item {
            background: rgba(255, 255, 255, 0.1);
            padding: 30px;
            border-radius: 15px;
            text-align: center;
            transition: var(--transition);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .value-item:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-10px);
        }

        .value-icon {
            font-size: 2.5rem;
            margin-bottom: 15px;
            display: block;
        }

        .chart-container {
            background: white;
            padding: 30px;
            border-radius: 15px;
            margin: 25px 0;
            box-shadow: var(--shadow);
            position: relative;
        }

        .notification {
            position: fixed;
            top: 20px;
            left: 20px;
            background: var(--success-color);
            color: white;
            padding: 15px 25px;
            border-radius: 10px;
            box-shadow: var(--shadow);
            transform: translateX(-100%);
            transition: var(--transition);
            z-index: 1000;
        }

        .notification.show {
            transform: translateX(0);
        }

        .notification.error {
            background: var(--danger-color);
        }

        .notification.warning {
            background: var(--warning-color);
        }

        .tabs {
            display: flex;
            margin-bottom: 30px;
            background: rgba(255, 255, 255, 0.9);
            border-radius: 15px;
            padding: 5px;
            box-shadow: var(--shadow);
        }

        .tab {
            flex: 1;
            text-align: center;
            padding: 15px 20px;
            background: transparent;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            transition: var(--transition);
            font-weight: 600;
            color: #666;
        }

        .tab.active {
            background: var(--primary-color);
            color: white;
            box-shadow: 0 5px 15px rgba(52, 152, 219, 0.3);
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
            animation: fadeIn 0.3s ease-in-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .export-section {
            background: linear-gradient(135deg, #fff 0%, #f8f9fa 100%);
            padding: 30px;
            border-radius: 15px;
            margin: 30px 0;
            box-shadow: var(--shadow);
            text-align: center;
        }

        .export-buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
            flex-wrap: wrap;
            margin-top: 20px;
        }

        .export-buttons button {
            width: auto;
            padding: 12px 25px;
            margin: 0;
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 2.2rem;
            }
            
            .grid-container {
                grid-template-columns: 1fr;
            }
            
            .audio-controls {
                flex-direction: column;
            }
            
            .audio-controls button {
                min-width: auto;
            }

            .stats-overview {
                grid-template-columns: repeat(2, 1fr);
            }

            .value-list {
                grid-template-columns: 1fr;
            }

            .export-buttons {
                flex-direction: column;
            }

            .tabs {
                flex-direction: column;
            }
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 10px;
        }

        ::-webkit-scrollbar-thumb {
            background: linear-gradient(45deg, var(--primary-color), var(--secondary-color));
            border-radius: 10px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(45deg, var(--secondary-color), var(--primary-color));
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header Section -->
        <div class="header">
            <h1>Ù†Ø¸Ø§Ù… Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ Ø§Ù„Ù…ØªÙ‚Ø¯Ù… Ù„Ø§Ø³ØªÙ‚Ø·Ø§Ø¨ Ø§Ù„Ù…ÙˆØ§Ù‡Ø¨</h1>
            <p class="subtitle">Ù…Ù†ØµØ© Ø´Ø§Ù…Ù„Ø© ÙˆØ°ÙƒÙŠØ© Ù„ØªØ­ÙˆÙŠÙ„ Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„ØªÙˆØ¸ÙŠÙ Ø¥Ù„Ù‰ ØªØ¬Ø±Ø¨Ø© Ù…ØªÙ‚Ø¯Ù…Ø© ÙˆÙ…Ø¤ØªÙ…ØªØ© Ø¨Ø§Ù„ÙƒØ§Ù…Ù„</p>
            <div class="company-logo">ğŸš€ Ù…Ø´Ø±Ù‚Ø© AI - Ø§Ù„Ø¬ÙŠÙ„ Ø§Ù„Ù‚Ø§Ø¯Ù…</div>
        </div>

        <!-- Statistics Overview -->
        <div class="stats-overview">
            <div class="stat-card">
                <span class="stat-number" id="totalCandidates">0</span>
                <div class="stat-label">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø±Ø´Ø­ÙŠÙ†</div>
            </div>
            <div class="stat-card">
                <span class="stat-number" id="processedCVs">0</span>
                <div class="stat-label">Ø§Ù„Ø³ÙŠØ± Ø§Ù„Ù…Ø­Ù„Ù„Ø©</div>
            </div>
            <div class="stat-card">
                <span class="stat-number" id="interviewsCompleted">0</span>
                <div class="stat-label">Ø§Ù„Ù…Ù‚Ø§Ø¨Ù„Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©</div>
            </div>
            <div class="stat-card">
                <span class="stat-number" id="successRate">0%</span>
                <div class="stat-label">Ù…Ø¹Ø¯Ù„ Ø§Ù„Ù†Ø¬Ø§Ø­</div>
            </div>
        </div>

        <!-- Navigation Tabs -->
        <div class="tabs">
            <button class="tab active" onclick="switchTab('analysis')">ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø³ÙŠØ± Ø§Ù„Ø°Ø§ØªÙŠØ©</button>
            <button class="tab" onclick="switchTab('evaluation')">ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ù…Ø±Ø´Ø­ÙŠÙ†</button>
            <button class="tab" onclick="switchTab('interview')">Ø§Ù„Ù…Ù‚Ø§Ø¨Ù„Ø§Øª Ø§Ù„Ø°ÙƒÙŠØ©</button>
            <button class="tab" onclick="switchTab('reports')">Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± ÙˆØ§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª</button>
        </div>

        <!-- Analysis Tab -->
        <div id="analysis-tab" class="tab-content active">
            <div class="grid-container">
                <!-- Enhanced CV Upload Section -->
                <div class="section-card">
                    <h2 class="section-title">
                        <span class="section-icon">ğŸ“„</span>
                        ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø³ÙŠØ± Ø§Ù„Ø°Ø§ØªÙŠØ© Ø§Ù„Ù…ØªÙ‚Ø¯Ù…
                    </h2>
                    <div class="input-group">
                        <label for="cvFile">Ø±ÙØ¹ Ø§Ù„Ø³ÙŠØ±Ø© Ø§Ù„Ø°Ø§ØªÙŠØ©</label>
                        <div class="file-input-wrapper" id="fileWrapper">
                            <input type="file" id="cvFile" class="file-input" accept=".pdf,.doc,.docx" />
                            <span class="file-input-icon">ğŸ“</span>
                            <div class="file-input-text">
                                Ø§Ø³Ø­Ø¨ ÙˆØ£ÙÙ„Øª Ø§Ù„Ù…Ù„Ù Ù‡Ù†Ø§ Ø£Ùˆ Ø§Ù†Ù‚Ø± Ù„Ù„Ø§Ø®ØªÙŠØ§Ø±<br>
                                <small>ÙŠØ¯Ø¹Ù… PDF Ùˆ Word (Ø­ØªÙ‰ 10 Ù…ÙŠØ¬Ø§Ø¨Ø§ÙŠØª)</small>
                            </div>
                        </div>
                    </div>
                    <div class="input-group">
                        <label for="jobPosition">Ø§Ù„Ù…Ø³Ù…Ù‰ Ø§Ù„ÙˆØ¸ÙŠÙÙŠ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨</label>
                        <input type="text" id="jobPosition" placeholder="Ù…Ø«Ø§Ù„: Ù…Ø·ÙˆØ± ØªØ·Ø¨ÙŠÙ‚Ø§Øª Ø°ÙƒÙŠØ©" />
                    </div>
                    <button class="btn" id="analyzeCvBtn" onclick="analyzeCv()">
                        ğŸ” ØªØ­Ù„ÙŠÙ„ Ø´Ø§Ù…Ù„ Ù„Ù„Ø³ÙŠØ±Ø© Ø§Ù„Ø°Ø§ØªÙŠØ©
                    </button>
                    <div class="loading-container" id="cvLoading">
                        <div class="loading-spinner"></div>
                        <div>Ø¬Ø§Ø±ÙŠ ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø³ÙŠØ±Ø© Ø§Ù„Ø°Ø§ØªÙŠØ© Ø¨Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ...</div>
                        <div class="progress-container">
                            <div class="progress-bar">
                                <div class="progress-fill" id="cvProgress"></div>
                            </div>
                        </div>
                    </div>
                    <div class="output-box" id="cvOutput">
                        <!-- AI analysis results will appear here -->
                    </div>
                    <div class="rating-container" id="cvRating" style="display: none;">
                        <span>Ù‚ÙŠÙ… Ø¬ÙˆØ¯Ø© Ø§Ù„ØªØ­Ù„ÙŠÙ„:</span>
                        <div class="stars" data-rating="0">
                            <span class="star" data-value="1">â­</span>
                            <span class="star" data-value="2">â­</span>
                            <span class="star" data-value="3">â­</span>
                            <span class="star" data-value="4">â­</span>
                            <span class="star" data-value="5">â­</span>
                        </div>
                    </div>
                </div>

                <!-- Enhanced Candidate Evaluation -->
                <div class="section-card">
                    <h2 class="section-title">
                        <span class="section-icon">â­</span>
                        ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ù…Ø±Ø´Ø­ÙŠÙ† Ø§Ù„Ø°ÙƒÙŠ
                    </h2>
                    <div class="input-group">
                        <label for="candidateName">Ø§Ø³Ù… Ø§Ù„Ù…Ø±Ø´Ø­</label>
                        <input type="text" id="candidateName" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ø³Ù… Ø§Ù„Ù…Ø±Ø´Ø­ Ø§Ù„ÙƒØ§Ù…Ù„" />
                    </div>
                    <div class="input-group">
                        <label for="jobTitle">Ø§Ù„Ù…Ø³Ù…Ù‰ Ø§Ù„ÙˆØ¸ÙŠÙÙŠ</label>
                        <select id="jobTitle">
                            <option value="">Ø§Ø®ØªØ± Ø§Ù„Ù…Ø³Ù…Ù‰ Ø§Ù„ÙˆØ¸ÙŠÙÙŠ</option>
                            <option value="Ù…Ø·ÙˆØ± Ø¨Ø±Ù…Ø¬ÙŠØ§Øª">Ù…Ø·ÙˆØ± Ø¨Ø±Ù…Ø¬ÙŠØ§Øª</option>
                            <option value="Ù…Ù‡Ù†Ø¯Ø³ Ø´Ø¨ÙƒØ§Øª">Ù…Ù‡Ù†Ø¯Ø³ Ø´Ø¨ÙƒØ§Øª</option>
                            <option value="Ù…Ø­Ù„Ù„ Ø£Ù†Ø¸Ù…Ø©">Ù…Ø­Ù„Ù„ Ø£Ù†Ø¸Ù…Ø©</option>
                            <option value="Ù…ØµÙ…Ù… Ø¬Ø±Ø§ÙÙŠÙƒ">Ù…ØµÙ…Ù… Ø¬Ø±Ø§ÙÙŠÙƒ</option>
                            <option value="Ù…ØªØ®ØµØµ Ø£Ù…Ù† Ø³ÙŠØ¨Ø±Ø§Ù†ÙŠ">Ù…ØªØ®ØµØµ Ø£Ù…Ù† Ø³ÙŠØ¨Ø±Ø§Ù†ÙŠ</option>
                            <option value="Ù…Ø¯ÙŠØ± Ù…Ø´Ø§Ø±ÙŠØ¹">Ù…Ø¯ÙŠØ± Ù…Ø´Ø§Ø±ÙŠØ¹</option>
                        </select>
                    </div>
                    <div class="input-group">
                        <label for="experienceYears">Ø³Ù†ÙˆØ§Øª Ø§Ù„Ø®Ø¨Ø±Ø©</label>
                        <input type="number" id="experienceYears" placeholder="Ø¹Ø¯Ø¯ Ø³Ù†ÙˆØ§Øª Ø§Ù„Ø®Ø¨Ø±Ø©" min="0" max="50" />
                    </div>
                    <button class="btn" onclick="evaluateCandidate()">
                        ğŸ¯ ØªÙ‚ÙŠÙŠÙ… Ø´Ø§Ù…Ù„ Ø¨Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ
                    </button>
                    <div class="loading-container" id="evalLoading">
                        <div class="loading-spinner"></div>
                        <div>Ø¬Ø§Ø±ÙŠ ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ù…Ø±Ø´Ø­ ÙˆØ­Ø³Ø§Ø¨ Ø¯Ø±Ø¬Ø© Ø§Ù„ØªÙˆØ§ÙÙ‚...</div>
                    </div>
                    <div class="compatibility-score" id="compatibilityScore" style="display: none;">
                        <div class="score-number" id="scoreNumber">0%</div>
                        <div class="score-label">Ø¯Ø±Ø¬Ø© Ø§Ù„ØªÙˆØ§ÙÙ‚ Ù…Ø¹ Ø§Ù„ÙˆØ¸ÙŠÙØ©</div>
                    </div>
                    <div class="output-box" id="evalOutput">
                        <!-- AI evaluation results will appear here -->
                    </div>
                </div>

                <!-- Enhanced Questions Generation -->
                <div class="section-card">
                    <h2 class="section-title">
                        <span class="section-icon">â“</span>
                        Ù…ÙˆÙ„Ø¯ Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ø°ÙƒÙŠ
                    </h2>
                    <div class="input-group">
                        <label for="jobDescription">ÙˆØµÙ Ø§Ù„ÙˆØ¸ÙŠÙØ© Ø§Ù„ØªÙØµÙŠÙ„ÙŠ</label>
                        <textarea id="jobDescription" rows="4" placeholder="Ø£Ø¯Ø®Ù„ ÙˆØµÙØ§Ù‹ Ø´Ø§Ù…Ù„Ø§Ù‹ Ù„Ù„ÙˆØ¸ÙŠÙØ©ØŒ Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©ØŒ ÙˆØ§Ù„Ù…Ø³Ø¤ÙˆÙ„ÙŠØ§Øª..."></textarea>
                    </div>
                    <div class="input-group">
                        <label for="questionType">Ù†ÙˆØ¹ Ø§Ù„Ø£Ø³Ø¦Ù„Ø©</label>
                        <select id="questionType">
                            <option value="mixed">Ù…Ø®ØªÙ„Ø·Ø© (ØªÙ‚Ù†ÙŠØ© + Ø³Ù„ÙˆÙƒÙŠØ©)</option>
                            <option value="technical">ØªÙ‚Ù†ÙŠØ© Ù…ØªØ®ØµØµØ©</option>
                            <option value="behavioral">Ø³Ù„ÙˆÙƒÙŠØ© ÙˆØ´Ø®ØµÙŠØ©</option>
                            <option value="situational">Ù…ÙˆØ§Ù‚Ù ÙˆØ­Ù„ÙˆÙ„</option>
                        </select>
                    </div>
                    <div class="input-group">
                        <label for="difficulty">Ù…Ø³ØªÙˆÙ‰ Ø§Ù„ØµØ¹ÙˆØ¨Ø©</label>
                        <select id="difficulty">
                            <option value="beginner">Ù…Ø¨ØªØ¯Ø¦</option>
                            <option value="intermediate">Ù…ØªÙˆØ³Ø·</option>
                            <option value="advanced">Ù…ØªÙ‚Ø¯Ù…</option>
                            <option value="expert">Ø®Ø¨ÙŠØ±</option>
                        </select>
                    </div>
                    <button class="btn" onclick="generateQuestions()">
                        âš¡ ØªÙˆÙ„ÙŠØ¯ Ø£Ø³Ø¦Ù„Ø© Ø°ÙƒÙŠØ© Ù…Ø®ØµØµØ©
                    </button>
                    <div class="loading-container" id="questionsLoading">
                        <div class="loading-spinner"></div>
                        <div>Ø¬Ø§Ø±ÙŠ ØªÙˆÙ„ÙŠØ¯ Ø£Ø³Ø¦Ù„Ø© Ù…Ø®ØµØµØ© Ù„Ù„Ù…Ù‚Ø§Ø¨Ù„Ø©...</div>
                    </div>
                    <ul class="questions-list" id="questionsList">
                        <!-- Generated questions will appear here -->
                    </ul>
                </div>
            </div>
        </div>

        <!-- Evaluation Tab -->
        <div id="evaluation-tab" class="tab-content">
            <div class="grid-container">
                <!-- Voice Interview Section -->
                <div class="section-card">
                    <h2 class="section-title">
                        <span class="section-icon">ğŸ¤</span>
                        Ø§Ù„Ù…Ù‚Ø§Ø¨Ù„Ø© Ø§Ù„ØµÙˆØªÙŠØ© Ø§Ù„ØªÙØ§Ø¹Ù„ÙŠØ©
                    </h2>
                    <p style="margin-bottom: 20px; color: #666; line-height: 1.6;">
                        ØªØ¬Ø±Ø¨Ø© Ù…Ù‚Ø§Ø¨Ù„Ø© Ù…ØªÙ‚Ø¯Ù…Ø© Ø¨Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ ØªØ¯Ø¹Ù… Ø§Ù„ØªØ¹Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„ØµÙˆØª ÙˆØ§Ù„Ø§Ø³ØªØ¬Ø§Ø¨Ø© Ø§Ù„ØªÙØ§Ø¹Ù„ÙŠØ© Ø¨Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©
                    </p>
                    <div class="input-group">
                        <label for="interviewType">Ù†ÙˆØ¹ Ø§Ù„Ù…Ù‚Ø§Ø¨Ù„Ø©</label>
                        <select id="interviewType">
                            <option value="preliminary">Ù…Ù‚Ø§Ø¨Ù„Ø© Ù…Ø¨Ø¯Ø¦ÙŠØ©</option>
                            <option value="technical">Ù…Ù‚Ø§Ø¨Ù„Ø© ØªÙ‚Ù†ÙŠØ©</option>
                            <option value="hr">Ù…Ù‚Ø§Ø¨Ù„Ø© Ù…ÙˆØ§Ø±Ø¯ Ø¨Ø´Ø±ÙŠØ©</option>
                            <option value="managerial">Ù…Ù‚Ø§Ø¨Ù„Ø© Ø¥Ø¯Ø§Ø±ÙŠØ©</option>
                        </select>
                    </div>
                    <div class="audio-controls">
                        <button class="btn btn-success" onclick="startVoiceInterview()">
                            ğŸ™ï¸ Ø¨Ø¯Ø¡ Ø§Ù„Ù…Ù‚Ø§Ø¨Ù„Ø© Ø§Ù„ØµÙˆØªÙŠØ©
                        </button>
                        <button class="btn btn-warning" onclick="pauseVoiceInterview()">
                            â¸ï¸ Ø¥ÙŠÙ‚Ø§Ù Ù…Ø¤Ù‚Øª
                        </button>
                        <button class="btn btn-secondary" onclick="stopVoiceInterview()">
                            â¹ï¸ Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ù…Ù‚Ø§Ø¨Ù„Ø©
                        </button>
                    </div>
                    <div class="recording-indicator" id="recordingIndicator">
                        ğŸ”´ Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ³Ø¬ÙŠÙ„ - ØªØ­Ø¯Ø« Ø¨ÙˆØ¶ÙˆØ­...
                    </div>
                    <div class="chat-container" id="voiceChat">
                        <div class="chat-message ai-message">
                            Ù…Ø±Ø­Ø¨Ø§Ù‹ ÙˆØ£Ù‡Ù„Ø§Ù‹ Ø¨Ùƒ ÙÙŠ Ø§Ù„Ù…Ù‚Ø§Ø¨Ù„Ø© Ø§Ù„ØªÙØ§Ø¹Ù„ÙŠØ© Ù…Ø¹ Ù†Ø¸Ø§Ù… Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ Ø§Ù„Ù…ØªÙ‚Ø¯Ù…. Ø³Ø£Ù‚ÙˆÙ… Ø¨Ø·Ø±Ø­ Ø¹Ø¯Ø© Ø£Ø³Ø¦Ù„Ø© Ø¹Ù„ÙŠÙƒ ÙˆØªÙ‚ÙŠÙŠÙ… Ø¥Ø¬Ø§Ø¨Ø§ØªÙƒ. Ù‡Ù„ Ø£Ù†Øª Ù…Ø³ØªØ¹Ø¯ Ù„Ø¨Ø¯Ø¡ Ø§Ù„Ù…Ù‚Ø§Ø¨Ù„Ø©ØŸ
                        </div>
                    </div>
                    <div class="output-box" id="voiceOutput">
                        <!-- Voice interview analysis will appear here -->
                    </div>
                </div>

                <!-- AI Chat Assistant -->
                <div class="section-card">
                    <h2 class="section-title">
                        <span class="section-icon">ğŸ¤–</span>
                        Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯ Ø§Ù„Ø°ÙƒÙŠ Ø§Ù„Ù…ØªÙ‚Ø¯Ù…
                    </h2>
                    <div class="chat-container" id="chatContainer">
                        <div class="chat-message ai-message">
                            Ù…Ø±Ø­Ø¨Ø§Ù‹! Ø£Ù†Ø§ Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯ Ø§Ù„Ø°ÙƒÙŠ Ø§Ù„Ù…ØªØ·ÙˆØ± Ù„Ù†Ø¸Ø§Ù… Ø§Ø³ØªÙ‚Ø·Ø§Ø¨ Ø§Ù„Ù…ÙˆØ§Ù‡Ø¨. Ø£Ø³ØªØ·ÙŠØ¹ Ù…Ø³Ø§Ø¹Ø¯ØªÙƒ ÙÙŠ:
                            <br>â€¢ ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø³ÙŠØ± Ø§Ù„Ø°Ø§ØªÙŠØ©
                            <br>â€¢ ÙˆØ¶Ø¹ Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ§Øª Ø§Ù„ØªÙˆØ¸ÙŠÙ
                            <br>â€¢ ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ù…Ø±Ø´Ø­ÙŠÙ†
                            <br>â€¢ Ø¥Ø¹Ø¯Ø§Ø¯ Ø®Ø·Ø· Ø§Ù„ØªØ·ÙˆÙŠØ±
                            <br><br>ÙƒÙŠÙ ÙŠÙ…ÙƒÙ†Ù†ÙŠ Ù…Ø³Ø§Ø¹Ø¯ØªÙƒ Ø§Ù„ÙŠÙˆÙ…ØŸ
                        </div>
                    </div>
                    <div class="input-group">
                        <textarea id="chatInput" rows="3" placeholder="Ø§Ø·Ø±Ø­ Ø£ÙŠ Ø³Ø¤Ø§Ù„ Ù…ØªØ¹Ù„Ù‚ Ø¨Ø§Ù„ØªÙˆØ¸ÙŠÙ ÙˆØ§Ù„Ù…ÙˆØ§Ø±Ø¯ Ø§Ù„Ø¨Ø´Ø±ÙŠØ©..."></textarea>
                    </div>
                    <div class="audio-controls">
                        <button class="btn" onclick="sendChatMessage()">
                            ğŸ’¬ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø±Ø³Ø§Ù„Ø©
                        </button>
                        <button class="btn btn-warning" onclick="clearChat()">
                            ğŸ—‘ï¸ Ù…Ø³Ø­ Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø©
                        </button>
                    </div>
                    <div class="loading-container" id="chatLoading">
                        <div class="loading-spinner"></div>
                        <div>Ø¬Ø§Ø±ÙŠ Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø±Ø¯ Ø§Ù„Ø°ÙƒÙŠ...</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Interview Tab -->
        <div id="interview-tab" class="tab-content">
            <div class="section-card">
                <h2 class="section-title">
                    <span class="section-icon">ğŸ“Š</span>
                    Ø§Ù„ØªÙˆØµÙŠØ© Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ© ÙˆØ§Ù„ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ø´Ø§Ù…Ù„
                </h2>
                <div class="input-group">
                    <label for="candidateData">Ù…Ù„Ø®Øµ Ø´Ø§Ù…Ù„ Ù„Ù„Ù…Ø±Ø´Ø­</label>
                    <textarea id="candidateData" rows="6" placeholder="Ø£Ø¯Ø®Ù„ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…ØªØ§Ø­Ø© Ø¹Ù† Ø§Ù„Ù…Ø±Ø´Ø­ (Ø§Ù„Ø³ÙŠØ±Ø© Ø§Ù„Ø°Ø§ØªÙŠØ©ØŒ Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ù…Ù‚Ø§Ø¨Ù„Ø§ØªØŒ Ø§Ù„ØªÙ‚ÙŠÙŠÙ…Ø§Øª...)"></textarea>
                </div>
                <div class="input-group">
                    <label for="positionRequirements">Ù…ØªØ·Ù„Ø¨Ø§Øª Ø§Ù„ÙˆØ¸ÙŠÙØ©</label>
                    <textarea id="positionRequirements" rows="4" placeholder="Ø­Ø¯Ø¯ Ø§Ù„Ù…ØªØ·Ù„Ø¨Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© ÙˆØ§Ù„Ù…ÙØ¶Ù„Ø© Ù„Ù„ÙˆØ¸ÙŠÙØ©..."></textarea>
                </div>
                <div class="input-group">
                    <label for="teamFit">Ø§Ù„ØªÙˆØ§ÙÙ‚ Ù…Ø¹ Ø§Ù„ÙØ±ÙŠÙ‚</label>
                    <select id="teamFit">
                        <option value="">Ø§Ø®ØªØ± Ù…Ø³ØªÙˆÙ‰ Ø§Ù„ØªÙˆØ§ÙÙ‚ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨</option>
                        <option value="high">ØªÙˆØ§ÙÙ‚ Ø¹Ø§Ù„ÙŠ Ù…Ø·Ù„ÙˆØ¨</option>
                        <option value="medium">ØªÙˆØ§ÙÙ‚ Ù…ØªÙˆØ³Ø·</option>
                        <option value="flexible">Ù…Ø±ÙˆÙ†Ø© ÙÙŠ Ø§Ù„ØªÙˆØ§ÙÙ‚</option>
                    </select>
                </div>
                <button class="btn btn-success" onclick="generateRecommendation()">
                    ğŸ“‹ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØªÙˆØµÙŠØ© Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ© ÙˆØ§Ù„ØªÙ‚Ø±ÙŠØ±
                </button>
                <div class="loading-container" id="recLoading">
                    <div class="loading-spinner"></div>
                    <div>Ø¬Ø§Ø±ÙŠ Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ø´Ø§Ù…Ù„ ÙˆØ§Ù„ØªÙˆØµÙŠØ© Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ©...</div>
                </div>
                <div class="output-box" id="recOutput">
                    <!-- Final recommendation will appear here -->
                </div>
                
                <!-- Export Section -->
                <div class="export-section" id="exportSection" style="display: none;">
                    <h3>ØªØµØ¯ÙŠØ± Ø§Ù„ØªÙ‚Ø±ÙŠØ±</h3>
                    <p>Ø§Ø­ÙØ¸ Ø§Ù„ØªÙ‚Ø±ÙŠØ± Ø¨ØµÙŠØº Ù…Ø®ØªÙ„ÙØ© Ù„Ù„Ù…Ø´Ø§Ø±ÙƒØ© ÙˆØ§Ù„Ø£Ø±Ø´ÙØ©</p>
                    <div class="export-buttons">
                        <button class="btn" onclick="exportToPDF()">ğŸ“„ ØªØµØ¯ÙŠØ± PDF</button>
                        <button class="btn btn-success" onclick="exportToWord()">ğŸ“ ØªØµØ¯ÙŠØ± Word</button>
                        <button class="btn btn-warning" onclick="exportToExcel()">ğŸ“Š ØªØµØ¯ÙŠØ± Excel</button>
                        <button class="btn btn-secondary" onclick="shareReport()">ğŸ”— Ù…Ø´Ø§Ø±ÙƒØ© Ø§Ù„Ø±Ø§Ø¨Ø·</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Reports Tab -->
        <div id="reports-tab" class="tab-content">
            <div class="grid-container">
                <div class="section-card">
                    <h2 class="section-title">
                        <span class="section-icon">ğŸ“ˆ</span>
                        Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ø£Ø¯Ø§Ø¡
                    </h2>
                    <div class="chart-container">
                        <canvas id="performanceChart" width="400" height="200"></canvas>
                    </div>
                </div>
                
                <div class="section-card">
                    <h2 class="section-title">
                        <span class="section-icon">ğŸ¯</span>
                        Ù…Ø¹Ø¯Ù„Ø§Øª Ø§Ù„Ù†Ø¬Ø§Ø­
                    </h2>
                    <div class="chart-container">
                        <canvas id="successChart" width="400" height="200"></canvas>
                    </div>
                </div>
            </div>
        </div>

        <!-- Value Proposition Section -->
        <div class="value-proposition">
            <h2 style="font-size: 2.5rem; margin-bottom: 25px; position: relative; z-index: 1;">
                ğŸš€ Ø§Ù„Ù…Ø²Ø§ÙŠØ§ Ø§Ù„ØªÙ†Ø§ÙØ³ÙŠØ© Ù„Ù„Ù†Ø¸Ø§Ù…
            </h2>
            <p style="font-size: 1.3rem; margin-bottom: 30px; position: relative; z-index: 1; opacity: 0.9;">
                Ø­Ù„ÙˆÙ„ ØªÙ‚Ù†ÙŠØ© Ù…ØªØ·ÙˆØ±Ø© ØªØ¹ÙŠØ¯ ØªØ¹Ø±ÙŠÙ Ù…ÙÙ‡ÙˆÙ… Ø§Ù„ØªÙˆØ¸ÙŠÙ Ø§Ù„Ø°ÙƒÙŠ
            </p>
            <div class="value-list">
                <div class="value-item">
                    <div class="value-icon">âš¡</div>
                    <h3>ØªØ³Ø±ÙŠØ¹ ÙØ§Ø¦Ù‚</h3>
                    <p>ØªÙ‚Ù„ÙŠÙ„ ÙˆÙ‚Øª Ø§Ù„ØªÙˆØ¸ÙŠÙ Ø¨Ù†Ø³Ø¨Ø© 80% Ù…Ø¹ Ø¯Ù‚Ø© Ø£Ø¹Ù„Ù‰</p>
                </div>
                <div class="value-item">
                    <div class="value-icon">ğŸ’°</div>
                    <h3>ØªÙˆÙÙŠØ± Ø§Ù„ØªÙƒØ§Ù„ÙŠÙ</h3>
                    <p>Ø®ÙØ¶ ØªÙƒØ§Ù„ÙŠÙ Ø§Ù„ØªÙˆØ¸ÙŠÙ Ø¨Ù†Ø³Ø¨Ø© 60% ÙˆØªØ­Ø³ÙŠÙ† Ø¬ÙˆØ¯Ø© Ø§Ù„Ø§Ø®ØªÙŠØ§Ø±</p>
                </div>
                <div class="value-item">
                    <div class="value-icon">ğŸ¯</div>
                    <h3>Ø¯Ù‚Ø© Ø¹Ø§Ù„ÙŠØ©</h3>
                    <p>ØªÙ‚ÙŠÙŠÙ… Ù…ÙˆØ¶ÙˆØ¹ÙŠ Ø¨Ø¯Ù‚Ø© 95% Ù…Ø¨Ù†ÙŠ Ø¹Ù„Ù‰ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</p>
                </div>
                <div class="value-item">
                    <div class="value-icon">ğŸ“Š</div>
                    <h3>ØªØ­Ù„ÙŠÙ„Ø§Øª Ù…ØªÙ‚Ø¯Ù…Ø©</h3>
                    <p>Ø±Ø¤Ù‰ Ø¹Ù…ÙŠÙ‚Ø© ÙˆØªÙ‚Ø§Ø±ÙŠØ± Ø°ÙƒÙŠØ© Ù„ØµÙ†Ø§Ø¹ Ø§Ù„Ù‚Ø±Ø§Ø±</p>
                </div>
                <div class="value-item">
                    <div class="value-icon">ğŸ¤–</div>
                    <h3>Ø°ÙƒØ§Ø¡ Ø§ØµØ·Ù†Ø§Ø¹ÙŠ</h3>
                    <p>ØªÙ‚Ù†ÙŠØ§Øª AI Ù…ØªØ·ÙˆØ±Ø© Ù„Ù„ØªØ¹Ù„Ù… Ø§Ù„Ù…Ø³ØªÙ…Ø± ÙˆØ§Ù„ØªØ­Ø³ÙŠÙ†</p>
                </div>
                <div class="value-item">
                    <div class="value-icon">ğŸ¤</div>
                    <h3>Ù…Ù‚Ø§Ø¨Ù„Ø§Øª ØªÙØ§Ø¹Ù„ÙŠØ©</h3>
                    <p>ØªØ¬Ø±Ø¨Ø© Ù…Ù‚Ø§Ø¨Ù„Ø© ØµÙˆØªÙŠØ© Ù…ØªÙ‚Ø¯Ù…Ø© Ø¨Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ</p>
                </div>
                <div class="value-item">
                    <div class="value-icon">ğŸ”’</div>
                    <h3>Ø£Ù…Ø§Ù† Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</h3>
                    <p>Ø­Ù…Ø§ÙŠØ© Ù…ØªÙ‚Ø¯Ù…Ø© ÙˆØ§Ù…ØªØ«Ø§Ù„ ÙƒØ§Ù…Ù„ Ù„Ù…Ø¹Ø§ÙŠÙŠØ± Ø§Ù„Ø£Ù…Ø§Ù†</p>
                </div>
                <div class="value-item">
                    <div class="value-icon">ğŸŒŸ</div>
                    <h3>ØªØ¬Ø±Ø¨Ø© Ù…Ù…ÙŠØ²Ø©</h3>
                    <p>ÙˆØ§Ø¬Ù‡Ø© Ø­Ø¯ÙŠØ«Ø© ÙˆØ³Ù‡Ù„Ø© Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù„Ù„Ø¬Ù…ÙŠØ¹</p>
                </div>
            </div>
        </div>

        <!-- Demo Section -->
        <div class="section-card">
            <h2 class="section-title">
                <span class="section-icon">ğŸ§ª</span>
                Ø§Ù„Ø¹Ø±Ø¶ Ø§Ù„ØªÙˆØ¶ÙŠØ­ÙŠ Ø§Ù„ØªÙØ§Ø¹Ù„ÙŠ
            </h2>
            <p style="margin-bottom: 25px; color: #666; line-height: 1.6;">
                Ø¬Ø±Ø¨ Ø§Ù„Ù†Ø¸Ø§Ù… Ø¨Ø¨ÙŠØ§Ù†Ø§Øª ØªØ¬Ø±ÙŠØ¨ÙŠØ© Ù„Ù…Ø¹Ø§ÙŠÙ†Ø© Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù‚Ø¯Ø±Ø§Øª ÙˆØ§Ù„Ù…ÙŠØ²Ø§Øª Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø©
            </p>
            <div class="audio-controls">
                <button class="btn" onclick="runDemo()">ğŸ¬ ØªØ´ØºÙŠÙ„ Ø§Ù„Ø¹Ø±Ø¶ Ø§Ù„ÙƒØ§Ù…Ù„</button>
                <button class="btn btn-warning" onclick="runQuickDemo()">âš¡ Ø¹Ø±Ø¶ Ø³Ø±ÙŠØ¹</button>
                <button class="btn btn-success" onclick="runAdvancedDemo()">ğŸš€ Ø¹Ø±Ø¶ Ù…ØªÙ‚Ø¯Ù…</button>
            </div>
            <div class="output-box" id="demoOutput"></div>
        </div>
    </div>

    <!-- Notification Container -->
    <div class="notification" id="notification"></div>

    <script>
        // Configuration
        const GEMINI_API_KEY = 'AIzaSyAquNVYw6VOmAKTtKtTPU7Tl3PVIG0sKhg';
        const GEMINI_API_URL = 'https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent';

        // Global Variables
        let recognition;
        let isRecording = false;
        let voiceInterviewActive = false;
        let currentQuestion = 0;
        let candidateData = {};
        let systemStats = {
            totalCandidates: 0,
            processedCVs: 0,
            interviewsCompleted: 0,
            successRate: 0
        };

        // Enhanced AI System Prompts
        const systemPrompts = {
            cvAnalysis: `Ø£Ù†Øª Ù…Ø­Ù„Ù„ Ù…ØªØ®ØµØµ ÙÙŠ ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ø³ÙŠØ± Ø§Ù„Ø°Ø§ØªÙŠØ©. Ù‚Ù… Ø¨Ø¥Ø¬Ø±Ø§Ø¡ ØªØ­Ù„ÙŠÙ„ Ø§Ø­ØªØ±Ø§ÙÙŠ Ø´Ø§Ù…Ù„ ÙŠØªØ¶Ù…Ù†:

1. **Ø§Ù„Ù…Ù„Ù Ø§Ù„ØªØ¹Ø±ÙŠÙÙŠ Ø§Ù„Ù…Ø®ØªØµØ±** (Ù†Ø¨Ø°Ø© Ù…Ø±ÙƒØ²Ø© Ø¹Ù† Ø§Ù„Ù…Ø±Ø´Ø­)
2. **Ø§Ù„Ù…Ø¤Ù‡Ù„Ø§Øª ÙˆØ§Ù„Ø´Ù‡Ø§Ø¯Ø§Øª**
   - Ø§Ù„Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠ
   - Ø§Ù„ØªØ®ØµØµ Ø§Ù„Ø¯Ù‚ÙŠÙ‚
   - Ø§Ù„Ù…Ø¤Ø³Ø³Ø§Øª Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ©
   - Ø§Ù„ØªÙ‚Ø¯ÙŠØ±Ø§Øª ÙˆØ§Ù„Ø¥Ù†Ø¬Ø§Ø²Ø§Øª

3. **Ø§Ù„Ø®Ø¨Ø±Ø§Øª Ø§Ù„Ù…Ù‡Ù†ÙŠØ©**
   - ØªØ­Ù„ÙŠÙ„ ØªØ³Ù„Ø³Ù„ Ø§Ù„ØªØ·ÙˆØ± Ø§Ù„ÙˆØ¸ÙŠÙÙŠ
   - Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„ÙŠØ§Øª Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
   - Ø§Ù„Ø¥Ù†Ø¬Ø§Ø²Ø§Øª Ø§Ù„ÙƒÙ…ÙŠØ©
   - Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª Ø§Ù„Ù…ÙƒØªØ³Ø¨Ø©

4. **Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª Ø§Ù„ØªÙ‚Ù†ÙŠØ© ÙˆØ§Ù„Ø´Ø®ØµÙŠØ©**
   â€¢ Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª Ø§Ù„ØªÙ‚Ù†ÙŠØ© (ØªÙ‚ÙŠÙŠÙ… Ù…Ù† 10):
     - Ù…Ù‡Ø§Ø±Ø§Øª Ø£Ø³Ø§Ø³ÙŠØ©
     - Ù…Ù‡Ø§Ø±Ø§Øª Ù…ØªØ®ØµØµØ©
     - ØªÙ‚Ù†ÙŠØ§Øª ÙˆØ£Ø¯ÙˆØ§Øª
   â€¢ Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª Ø§Ù„Ø´Ø®ØµÙŠØ©:
     - Ù…Ù‡Ø§Ø±Ø§Øª Ø§Ù„Ù‚ÙŠØ§Ø¯Ø©
     - Ø§Ù„Ø¹Ù…Ù„ Ø§Ù„Ø¬Ù…Ø§Ø¹ÙŠ
     - Ø§Ù„ØªÙˆØ§ØµÙ„ ÙˆØ§Ù„Ø¹Ø±Ø¶

5. **Ø§Ù„ØªØ·ÙˆÙŠØ± Ø§Ù„Ù…Ù‡Ù†ÙŠ**
   - Ø§Ù„Ø¯ÙˆØ±Ø§Øª Ø§Ù„ØªØ¯Ø±ÙŠØ¨ÙŠØ©
   - Ø§Ù„Ø´Ù‡Ø§Ø¯Ø§Øª Ø§Ù„Ù…Ù‡Ù†ÙŠØ©
   - Ø§Ù„Ù…Ø¤ØªÙ…Ø±Ø§Øª ÙˆØ§Ù„ÙØ¹Ø§Ù„ÙŠØ§Øª

6. **Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹ ÙˆØ§Ù„Ø¥Ù†Ø¬Ø§Ø²Ø§Øª**
   - Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
   - Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ù…Ù„Ù…ÙˆØ³Ø©
   - Ø§Ù„Ø§Ø¨ØªÙƒØ§Ø±Ø§Øª ÙˆØ§Ù„Ù…Ø¨Ø§Ø¯Ø±Ø§Øª

7. **ØªØ­Ù„ÙŠÙ„ Ø§Ù„ØªÙˆØ§ÙÙ‚ Ø§Ù„ÙˆØ¸ÙŠÙÙŠ**
   - Ù†Ø³Ø¨Ø© Ø§Ù„ØªÙˆØ§ÙÙ‚ Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠØ©
   - Ù†Ù‚Ø§Ø· Ø§Ù„Ù‚ÙˆØ© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
   - Ù…Ø¬Ø§Ù„Ø§Øª Ø§Ù„ØªØ­Ø³ÙŠÙ†
   - Ø§Ù„ØªÙˆØµÙŠØ§Øª Ø§Ù„Ù…Ø­Ø¯Ø¯Ø©

8. **Ø§Ù„ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ**
   - Ù…Ù„Ø®Øµ Ø§Ù„ØªÙ‚ÙŠÙŠÙ…
   - Ø¯Ø±Ø¬Ø© Ø§Ù„Ø£Ù‡Ù„ÙŠØ©
   - ØªÙˆØµÙŠØ§Øª Ø§Ù„Ù…ØªØ§Ø¨Ø¹Ø©
   - Ø®Ø·Ø© Ø§Ù„ØªØ·ÙˆÙŠØ± Ø§Ù„Ù…Ù‚ØªØ±Ø­Ø©

Ù‚Ø¯Ù… Ø§Ù„ØªØ­Ù„ÙŠÙ„ Ø¨ØªÙ†Ø³ÙŠÙ‚ Ù…Ù†Ø¸Ù… ÙˆÙˆØ§Ø¶Ø­ Ù…Ø¹ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„ØªØ±Ù‚ÙŠÙ… ÙˆØ§Ù„Ù†Ù‚Ø§Ø· ÙˆØ§Ù„Ø¬Ø¯Ø§ÙˆÙ„ Ø­ÙŠØ«Ù…Ø§ Ø£Ù…ÙƒÙ†.`,

            candidateEvaluation: `Ø£Ù†Øª Ø®Ø¨ÙŠØ± ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ù…ÙˆØ§Ù‡Ø¨ ÙˆØ§Ù„ÙƒÙØ§Ø¡Ø§Øª. Ù‚Ù… Ø¨Ø¥Ø¬Ø±Ø§Ø¡ ØªÙ‚ÙŠÙŠÙ… Ø´Ø§Ù…Ù„ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù…Ø¹Ø§ÙŠÙŠØ± Ø§Ù„ØªØ§Ù„ÙŠØ©:

1. **Ø§Ù„ØªÙ‚ÙŠÙŠÙ… Ø§Ù„ÙƒÙ…ÙŠ (100 Ù†Ù‚Ø·Ø©)**
   â€¢ Ø§Ù„Ù…Ø¤Ù‡Ù„Ø§Øª Ø§Ù„Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠØ© (20 Ù†Ù‚Ø·Ø©)
   â€¢ Ø§Ù„Ø®Ø¨Ø±Ø© Ø§Ù„Ù…Ù‡Ù†ÙŠØ© (25 Ù†Ù‚Ø·Ø©)
   â€¢ Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª Ø§Ù„ØªÙ‚Ù†ÙŠØ© (25 Ù†Ù‚Ø·Ø©)
   â€¢ Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª Ø§Ù„Ø´Ø®ØµÙŠØ© (15 Ù†Ù‚Ø·Ø©)
   â€¢ Ø§Ù„Ø¥Ù†Ø¬Ø§Ø²Ø§Øª ÙˆØ§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹ (15 Ù†Ù‚Ø·Ø©)

2. **Ø§Ù„ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù†ÙˆØ¹ÙŠ**
   â€¢ Ø§Ù„Ù‚Ø¯Ø±Ø§Øª Ø§Ù„Ù‚ÙŠØ§Ø¯ÙŠØ©
   â€¢ Ù…Ù‡Ø§Ø±Ø§Øª Ø­Ù„ Ø§Ù„Ù…Ø´ÙƒÙ„Ø§Øª
   â€¢ Ø§Ù„Ø§Ø¨ØªÙƒØ§Ø± ÙˆØ§Ù„Ø¥Ø¨Ø¯Ø§Ø¹
   â€¢ Ø§Ù„ØªÙˆØ§ØµÙ„ ÙˆØ§Ù„Ø¹Ø±Ø¶
   â€¢ Ø§Ù„Ø¹Ù…Ù„ Ø§Ù„Ø¬Ù…Ø§Ø¹ÙŠ

3. **ØªÙ‚ÙŠÙŠÙ… Ø§Ù„ØªÙˆØ§ÙÙ‚**
   â€¢ ØªÙˆØ§ÙÙ‚ Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª (%)
   â€¢ ØªÙˆØ§ÙÙ‚ Ø§Ù„Ø®Ø¨Ø±Ø§Øª (%)
   â€¢ ØªÙˆØ§ÙÙ‚ Ø§Ù„Ø«Ù‚Ø§ÙØ© Ø§Ù„Ù…Ø¤Ø³Ø³ÙŠØ© (%)
   â€¢ Ø¥Ù…ÙƒØ§Ù†ÙŠØ© Ø§Ù„ØªØ·ÙˆØ± (%)

4. **Ø§Ù„Ù…Ø®Ø§Ø·Ø± ÙˆØ§Ù„ÙØ±Øµ**
   â€¢ Ù†Ù‚Ø§Ø· Ø§Ù„Ù‚ÙˆØ© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
   â€¢ Ù…Ø¬Ø§Ù„Ø§Øª Ø§Ù„ØªØ­Ø³ÙŠÙ†
   â€¢ Ø§Ù„ÙØ±Øµ Ø§Ù„Ù…Ø­ØªÙ…Ù„Ø©
   â€¢ Ø§Ù„Ù…Ø®Ø§Ø·Ø± Ø§Ù„Ù…Ø­ØªÙ…Ù„Ø©

5. **Ø®Ø·Ø© Ø§Ù„ØªØ·ÙˆÙŠØ±**
   â€¢ Ø§Ù„Ø£Ù‡Ø¯Ø§Ù Ù‚ØµÙŠØ±Ø© Ø§Ù„Ù…Ø¯Ù‰
   â€¢ Ø§Ù„Ø£Ù‡Ø¯Ø§Ù Ø·ÙˆÙŠÙ„Ø© Ø§Ù„Ù…Ø¯Ù‰
   â€¢ Ø¨Ø±Ø§Ù…Ø¬ Ø§Ù„ØªØ¯Ø±ÙŠØ¨ Ø§Ù„Ù…Ù‚ØªØ±Ø­Ø©
   â€¢ Ù…Ø¤Ø´Ø±Ø§Øª Ø§Ù„Ø£Ø¯Ø§Ø¡ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©

Ù‚Ø¯Ù… Ø§Ù„ØªÙ‚ÙŠÙŠÙ… Ø¨Ø´ÙƒÙ„ Ù…Ù†Ø¸Ù… Ù…Ø¹ ØªØ­Ø¯ÙŠØ¯ Ø¯Ø±Ø¬Ø§Øª ÙˆØ§Ø¶Ø­Ø© ÙˆÙ…Ø¨Ø±Ø±Ø§Øª Ù„ÙƒÙ„ Ø¹Ù†ØµØ±.`,

            questionGeneration: `Ø£Ù†Øª Ø®Ø¨ÙŠØ± Ø¥Ø¹Ø¯Ø§Ø¯ Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ù…Ù‚Ø§Ø¨Ù„Ø§Øª Ø§Ù„Ù…ØªØ®ØµØµØ©. Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ ÙˆØµÙ Ø§Ù„ÙˆØ¸ÙŠÙØ© ÙˆÙ†ÙˆØ¹ Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ù…Ø·Ù„ÙˆØ¨ØŒ Ø£Ù†Ø´Ø¦ Ù…Ø¬Ù…ÙˆØ¹Ø© Ù…ØªÙ†ÙˆØ¹Ø© Ù…Ù† Ø§Ù„Ø£Ø³Ø¦Ù„Ø© ØªØ´Ù…Ù„:

**Ù„Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„ØªÙ‚Ù†ÙŠØ©:**
- Ø£Ø³Ø¦Ù„Ø© Ù…Ø¹Ø±ÙÙŠØ© Ø£Ø³Ø§Ø³ÙŠØ©
- Ø£Ø³Ø¦Ù„Ø© ØªØ·Ø¨ÙŠÙ‚ÙŠØ© Ø¹Ù…Ù„ÙŠØ©
- Ø³ÙŠÙ†Ø§Ø±ÙŠÙˆÙ‡Ø§Øª Ø­Ù„ Ø§Ù„Ù…Ø´ÙƒÙ„Ø§Øª
- Ø£Ø³Ø¦Ù„Ø© ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ø®Ø¨Ø±Ø© Ø§Ù„Ø¹Ù…Ù„ÙŠØ©

**Ù„Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ø³Ù„ÙˆÙƒÙŠØ©:**
- Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ù…ÙˆØ§Ù‚Ù STAR
- ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª Ø§Ù„Ø´Ø®ØµÙŠØ©
- Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ù‚ÙŠØ§Ø¯Ø© ÙˆØ§Ù„Ø¹Ù…Ù„ Ø§Ù„Ø¬Ù…Ø§Ø¹ÙŠ
- Ø£Ø³Ø¦Ù„Ø© Ø§Ù„ØªØ¹Ø§Ù…Ù„ Ù…Ø¹ Ø§Ù„Ø¶ØºØ·

**Ù„Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ù…ÙˆÙ‚ÙÙŠØ©:**
- Ø³ÙŠÙ†Ø§Ø±ÙŠÙˆÙ‡Ø§Øª ÙˆØ§Ù‚Ø¹ÙŠØ©
- ØªØ­Ø¯ÙŠØ§Øª Ù…Ù‡Ù†ÙŠØ© Ù…ØªÙˆÙ‚Ø¹Ø©
- Ø£Ø³Ø¦Ù„Ø© Ø§ØªØ®Ø§Ø° Ø§Ù„Ù‚Ø±Ø§Ø±
- Ù…ÙˆØ§Ù‚Ù Ø§Ù„Ø£Ø²Ù…Ø§Øª

Ù‚Ø¯Ù… 10-12 Ø³Ø¤Ø§Ù„Ø§Ù‹ Ù…ØªØ¯Ø±Ø¬Ø§Ù‹ ÙÙŠ Ø§Ù„ØµØ¹ÙˆØ¨Ø© Ù…Ø¹ ØªÙ†ÙˆÙŠØ¹ Ø§Ù„Ø£Ù†ÙˆØ§Ø¹ØŒ Ù…Ø±Ù‚Ù…Ø© ÙˆÙˆØ§Ø¶Ø­Ø©.`,

            voiceInterview: `Ø£Ù†Øª Ù…Ù‚Ø§Ø¨Ù„ Ù…Ø­ØªØ±Ù ÙˆÙ…ØªÙ…Ø±Ø³ Ù„Ù„Ù…Ù‚Ø§Ø¨Ù„Ø§Øª Ø§Ù„ØµÙˆØªÙŠØ© Ø§Ù„ØªÙØ§Ø¹Ù„ÙŠØ©. ØªØ­Ø¯Ø« Ø¨Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ø§Ù„ÙØµØ­Ù‰ Ø¨Ø·Ø±ÙŠÙ‚Ø© Ø¯Ø§ÙØ¦Ø© ÙˆÙ…Ù‡Ù†ÙŠØ©. 

**Ø¥Ø±Ø´Ø§Ø¯Ø§Øª Ø§Ù„Ù…Ù‚Ø§Ø¨Ù„Ø©:**
- Ø§Ø¨Ø¯Ø£ Ø¨Ø§Ù„ØªØ±Ø­ÙŠØ¨ ÙˆÙƒØ³Ø± Ø§Ù„Ø¬Ù„ÙŠØ¯
- Ø§Ø·Ø±Ø­ Ø£Ø³Ø¦Ù„Ø© Ù…ØªØ¯Ø±Ø¬Ø© ÙˆÙ…ØªÙ†ÙˆØ¹Ø©
- Ù‚Ø¯Ù… Ø±Ø¯ÙˆØ¯ ÙØ¹Ù„ Ø¥ÙŠØ¬Ø§Ø¨ÙŠØ© ÙˆÙ…Ø´Ø¬Ø¹Ø©
- Ø§Ø·Ù„Ø¨ ØªÙˆØ¶ÙŠØ­Ø§Øª Ø¹Ù†Ø¯ Ø§Ù„Ø­Ø§Ø¬Ø©
- Ø§Ø±Ø¨Ø· Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø¨Ø¥Ø¬Ø§Ø¨Ø§Øª Ø§Ù„Ù…ØªÙ‚Ø¯Ù…
- Ø§Ø®ØªØªÙ… Ø¨Ø´ÙƒÙ„ Ø¥ÙŠØ¬Ø§Ø¨ÙŠ ÙˆÙ…Ù‡Ù†ÙŠ

**Ø±ÙƒØ² Ø¹Ù„Ù‰ ØªÙ‚ÙŠÙŠÙ…:**
- ÙˆØ¶ÙˆØ­ Ø§Ù„ØªØ¹Ø¨ÙŠØ± ÙˆØ§Ù„ØªÙˆØ§ØµÙ„
- Ø§Ù„Ø«Ù‚Ø© Ø¨Ø§Ù„Ù†ÙØ³ ÙˆØ§Ù„Ø´Ø®ØµÙŠØ©
- Ø§Ù„Ø¹Ù…Ù‚ Ø§Ù„Ù…Ø¹Ø±ÙÙŠ ÙˆØ§Ù„Ø®Ø¨Ø±Ø©
- Ø§Ù„Ø¯Ø§ÙØ¹ÙŠØ© ÙˆØ§Ù„Ø­Ù…Ø§Ø³
- Ø§Ù„Ù‚Ø¯Ø±Ø© Ø¹Ù„Ù‰ Ø§Ù„ØªÙÙƒÙŠØ± Ø§Ù„Ø³Ø±ÙŠØ¹

Ø§Ø¬Ø¹Ù„ Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø© Ø·Ø¨ÙŠØ¹ÙŠØ© ÙˆØªÙØ§Ø¹Ù„ÙŠØ©.`,

            chatAssistant: `Ø£Ù†Øª Ù…Ø³ØªØ´Ø§Ø± Ù…ÙˆØ§Ø±Ø¯ Ø¨Ø´Ø±ÙŠØ© Ø®Ø¨ÙŠØ± ÙˆÙ…Ø³Ø§Ø¹Ø¯ Ø°ÙƒÙŠ Ù…ØªØ®ØµØµ ÙÙŠ Ø§Ù„ØªÙˆØ¸ÙŠÙ. ØªÙ…ØªÙ„Ùƒ Ù…Ø¹Ø±ÙØ© ÙˆØ§Ø³Ø¹Ø© ÙÙŠ:

- Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ§Øª Ø§Ù„ØªÙˆØ¸ÙŠÙ Ø§Ù„Ø­Ø¯ÙŠØ«Ø©
- ØªÙ‚Ù†ÙŠØ§Øª ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ù…ÙˆØ§Ù‡Ø¨
- Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…ÙˆØ§Ø±Ø¯ Ø§Ù„Ø¨Ø´Ø±ÙŠØ©
- ØªØ·ÙˆÙŠØ± Ø§Ù„Ø³ÙŠØ§Ø³Ø§Øª ÙˆØ§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª
- ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø³ÙˆÙ‚ Ø§Ù„ÙˆØ¸ÙŠÙÙŠ
- Ø§Ù„ØªØ·ÙˆÙŠØ± Ø§Ù„Ù…Ù‡Ù†ÙŠ ÙˆØ§Ù„ØªØ¯Ø±ÙŠØ¨

Ø£Ø¬Ø¨ Ø¹Ù„Ù‰ Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø¨Ø·Ø±ÙŠÙ‚Ø©:
- Ù…Ù‡Ù†ÙŠØ© ÙˆØ¹Ù„Ù…ÙŠØ©
- Ù…ÙØµÙ„Ø© ÙˆÙ…ÙÙŠØ¯Ø©
- Ù…Ø¯Ø¹ÙˆÙ…Ø© Ø¨Ø£Ù…Ø«Ù„Ø© Ø¹Ù…Ù„ÙŠØ©
- Ù…Ø­Ø¯Ø«Ø© Ø¨Ø£Ø­Ø¯Ø« Ø§Ù„Ù…Ù…Ø§Ø±Ø³Ø§Øª
- ÙˆØ§Ø¶Ø­Ø© ÙˆÙ…Ù†Ø¸Ù…Ø©

Ù‚Ø¯Ù… Ù†ØµØ§Ø¦Ø­ Ù‚Ø§Ø¨Ù„Ø© Ù„Ù„ØªØ·Ø¨ÙŠÙ‚ ÙˆØ­Ù„ÙˆÙ„ Ø¹Ù…Ù„ÙŠØ©.`,

            finalRecommendation: `Ø£Ù†Øª Ø®Ø¨ÙŠØ± Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„ØªÙ†ÙÙŠØ°ÙŠØ© Ù„Ù„Ù…ÙˆØ§Ø±Ø¯ Ø§Ù„Ø¨Ø´Ø±ÙŠØ©. Ø£Ø¹Ø¯ ØªÙ‚Ø±ÙŠØ±Ø§Ù‹ ØªÙ†ÙÙŠØ°ÙŠØ§Ù‹ Ø´Ø§Ù…Ù„Ø§Ù‹ ÙˆÙ…Ù‡Ù†ÙŠØ§Ù‹ ÙŠØªØ¶Ù…Ù†:

**1. Ø§Ù„Ù…Ù„Ø®Øµ Ø§Ù„ØªÙ†ÙÙŠØ°ÙŠ**
- Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø© Ø³Ø±ÙŠØ¹Ø©
- Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
- Ø§Ù„ØªÙˆØµÙŠØ© Ø§Ù„Ù…Ø¨Ø§Ø´Ø±Ø©

**2. ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù…Ø±Ø´Ø­**
- Ø§Ù„Ù…Ø¤Ù‡Ù„Ø§Øª ÙˆØ§Ù„Ø®Ø¨Ø±Ø§Øª
- Ù†Ù‚Ø§Ø· Ø§Ù„Ù‚ÙˆØ© ÙˆØ§Ù„Ø¶Ø¹Ù
- Ø§Ù„ØªÙˆØ§ÙÙ‚ Ù…Ø¹ Ø§Ù„Ù…ØªØ·Ù„Ø¨Ø§Øª

**3. Ø§Ù„ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ø´Ø§Ù…Ù„**
- Ø¯Ø±Ø¬Ø§Øª ØªÙØµÙŠÙ„ÙŠØ© Ù„ÙƒÙ„ Ù…Ø¹ÙŠØ§Ø±
- Ù…Ù‚Ø§Ø±Ù†Ø© Ù…Ø¹ Ø§Ù„Ù…Ø¹Ø§ÙŠÙŠØ± Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©
- ØªØ±ØªÙŠØ¨ Ø¶Ù…Ù† Ø§Ù„Ù…ØªÙ‚Ø¯Ù…ÙŠÙ†

**4. Ø§Ù„ØªÙˆØµÙŠØ© Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ©**
- Ø§Ù„Ù‚Ø±Ø§Ø± Ø§Ù„Ù…Ù‚ØªØ±Ø­ Ù…Ø¹ Ø§Ù„Ù…Ø¨Ø±Ø±Ø§Øª
- Ø§Ù„Ø´Ø±ÙˆØ· Ø£Ùˆ Ø§Ù„ØªØ­ÙØ¸Ø§Øª
- Ø®Ø·Ø© Ø§Ù„Ø¥Ø¯Ù…Ø§Ø¬ Ø§Ù„Ù…Ù‚ØªØ±Ø­Ø©

**5. Ø§Ù„Ø®Ø·ÙˆØ§Øª Ø§Ù„ØªØ§Ù„ÙŠØ©**
- Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª Ø§Ù„Ù…ØªØ§Ø¨Ø¹Ø©
- Ø¬Ø¯ÙˆÙ„Ø© Ø§Ù„Ù…Ø±Ø§Ø­Ù„ Ø§Ù„Ù‚Ø§Ø¯Ù…Ø©
- Ù…ØªØ·Ù„Ø¨Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ©

**6. ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù…Ø®Ø§Ø·Ø± ÙˆØ§Ù„ÙØ±Øµ**
- Ø§Ù„ØªØ­Ø¯ÙŠØ§Øª Ø§Ù„Ù…ØªÙˆÙ‚Ø¹Ø©
- Ø§Ù„Ø¥Ù…ÙƒØ§Ù†ÙŠØ§Øª Ø§Ù„Ù…Ø³ØªÙ‚Ø¨Ù„ÙŠØ©
- Ø®Ø·Ø· Ø§Ù„ØªØ·ÙˆÙŠØ±

Ù‚Ø¯Ù… Ø§Ù„ØªÙ‚Ø±ÙŠØ± Ø¨ØªÙ†Ø³ÙŠÙ‚ Ø§Ø­ØªØ±Ø§ÙÙŠ Ù…Ø¹ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙˆØ§Ù„Ø£Ø±Ù‚Ø§Ù….`
        };

        // Voice Interview Questions by Type
        const voiceInterviewQuestions = {
            preliminary: [
                "Ø­Ø¯Ø«Ù†ÙŠ Ø¹Ù† Ù†ÙØ³Ùƒ ÙˆØ®Ù„ÙÙŠØªÙƒ Ø§Ù„Ù…Ù‡Ù†ÙŠØ© Ø¨Ø¥ÙŠØ¬Ø§Ø²",
                "Ù…Ø§ Ø§Ù„Ø°ÙŠ ÙŠØ­ÙØ²Ùƒ Ù„Ù„Ø¹Ù…Ù„ ÙÙŠ Ù‡Ø°Ø§ Ø§Ù„Ù…Ø¬Ø§Ù„ØŸ",
                "ÙƒÙŠÙ Ø³Ù…Ø¹Øª Ø¹Ù† Ù‡Ø°Ù‡ Ø§Ù„ÙˆØ¸ÙŠÙØ© ÙˆÙ„Ù…Ø§Ø°Ø§ ØªÙ‡ØªÙ… Ø¨Ù‡Ø§ØŸ",
                "Ù…Ø§ Ù‡ÙŠ Ù†Ù‚Ø§Ø· Ù‚ÙˆØªÙƒ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©ØŸ",
                "ÙƒÙŠÙ ØªØªØ¹Ø§Ù…Ù„ Ù…Ø¹ Ø¶ØºØ· Ø§Ù„Ø¹Ù…Ù„ ÙˆØ§Ù„Ù…ÙˆØ§Ø¹ÙŠØ¯ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ©ØŸ"
            ],
            technical: [
                "Ø§Ø´Ø±Ø­ Ù„ÙŠ Ø¢Ø®Ø± Ù…Ø´Ø±ÙˆØ¹ ØªÙ‚Ù†ÙŠ Ø¹Ù…Ù„Øª Ø¹Ù„ÙŠÙ‡",
                "Ù…Ø§ Ù‡ÙŠ Ø§Ù„ØªÙ‚Ù†ÙŠØ§Øª Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© Ø§Ù„ØªÙŠ ØªØ¹Ù„Ù…ØªÙ‡Ø§ Ù…Ø¤Ø®Ø±Ø§Ù‹ØŸ",
                "ÙƒÙŠÙ ØªØªØ¹Ø§Ù…Ù„ Ù…Ø¹ Ù…Ø´ÙƒÙ„Ø© ØªÙ‚Ù†ÙŠØ© Ù…Ø¹Ù‚Ø¯Ø©ØŸ",
                "Ù…Ø§ Ø±Ø£ÙŠÙƒ ÙÙŠ Ø§ØªØ¬Ø§Ù‡Ø§Øª Ø§Ù„ØªØ·ÙˆÙŠØ± Ø§Ù„Ø­Ø¯ÙŠØ«Ø© ÙÙŠ Ù…Ø¬Ø§Ù„ÙƒØŸ",
                "Ø§Ø´Ø±Ø­ Ø¹Ù…Ù„ÙŠØ© Ø­Ù„ Ù…Ø´ÙƒÙ„Ø© ØªÙ‚Ù†ÙŠØ© ÙˆØ§Ø¬Ù‡ØªÙƒ Ø³Ø§Ø¨Ù‚Ø§Ù‹"
            ],
            hr: [
                "ÙƒÙŠÙ ØªØµÙ Ø£Ø³Ù„ÙˆØ¨ Ø¹Ù…Ù„Ùƒ Ù…Ø¹ Ø§Ù„ÙØ±ÙŠÙ‚ØŸ",
                "Ù…Ø§ Ù‡ÙŠ Ø£Ù‡Ø¯Ø§ÙÙƒ Ø§Ù„Ù…Ù‡Ù†ÙŠØ© Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø¯Ù‰ Ø§Ù„Ù‚ØµÙŠØ± ÙˆØ§Ù„Ø·ÙˆÙŠÙ„ØŸ",
                "Ø­Ø¯Ø«Ù†ÙŠ Ø¹Ù† Ù…ÙˆÙ‚Ù ØªØ¹Ù„Ù…Øª Ù…Ù†Ù‡ Ø¯Ø±Ø³Ø§Ù‹ Ù…Ù‡Ù…Ø§Ù‹",
                "ÙƒÙŠÙ ØªØªØ¹Ø§Ù…Ù„ Ù…Ø¹ Ø§Ù„Ù†Ù‚Ø¯ Ø§Ù„Ø¨Ù†Ø§Ø¡ØŸ",
                "Ù…Ø§ Ø§Ù„Ø°ÙŠ ØªØªÙˆÙ‚Ø¹Ù‡ Ù…Ù† Ø¨ÙŠØ¦Ø© Ø§Ù„Ø¹Ù…Ù„ Ø§Ù„Ù…Ø«Ø§Ù„ÙŠØ©ØŸ"
            ],
            managerial: [
                "ÙƒÙŠÙ ØªØªØ¹Ø§Ù…Ù„ Ù…Ø¹ Ø§Ù„ØµØ±Ø§Ø¹Ø§Øª ÙÙŠ ÙØ±ÙŠÙ‚ Ø§Ù„Ø¹Ù…Ù„ØŸ",
                "Ø§Ø´Ø±Ø­ ØªØ¬Ø±Ø¨ØªÙƒ ÙÙŠ Ù‚ÙŠØ§Ø¯Ø© Ù…Ø´Ø±ÙˆØ¹ Ø£Ùˆ ÙØ±ÙŠÙ‚",
                "ÙƒÙŠÙ ØªØ­ÙØ² Ø£Ø¹Ø¶Ø§Ø¡ ÙØ±ÙŠÙ‚Ùƒ Ù„ØªØ­Ù‚ÙŠÙ‚ Ø£ÙØ¶Ù„ Ø£Ø¯Ø§Ø¡ØŸ",
                "Ù…Ø§ Ù‡ÙŠ Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØªÙƒ ÙÙŠ Ø§ØªØ®Ø§Ø° Ø§Ù„Ù‚Ø±Ø§Ø±Ø§Øª Ø§Ù„ØµØ¹Ø¨Ø©ØŸ",
                "ÙƒÙŠÙ ØªØªØ¹Ø§Ù…Ù„ Ù…Ø¹ Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ† Ù…Ù†Ø®ÙØ¶ÙŠ Ø§Ù„Ø£Ø¯Ø§Ø¡ØŸ"
            ]
        };

        // Initialize Application
        document.addEventListener('DOMContentLoaded', function() {
            initializeApp();
            setupEventListeners();
            setupDragAndDrop();
            initializeSpeechRecognition();
            loadSavedData();
            updateStats();
            initializeCharts();
        });

        function initializeApp() {
            console.log('ğŸš€ Ù†Ø¸Ø§Ù… Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ Ø§Ù„Ù…ØªÙ‚Ø¯Ù… Ù„Ø§Ø³ØªÙ‚Ø·Ø§Ø¨ Ø§Ù„Ù…ÙˆØ§Ù‡Ø¨ Ø¬Ø§Ù‡Ø²');
            showNotification('Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ ÙÙŠ Ù†Ø¸Ø§Ù… Ù…Ø´Ø±Ù‚Ø© AI Ø§Ù„Ù…ØªÙ‚Ø¯Ù…', 'success');
            
            // Initialize PDF.js
            if (typeof pdfjsLib !== 'undefined') {
                pdfjsLib.GlobalWorkerOptions.workerSrc = 'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js';
            }
        }

        function setupEventListeners() {
            // File input change event
            document.getElementById('cvFile').addEventListener('change', handleFileSelect);
            
            // Enable click on file-input-wrapper to open file dialog
            document.getElementById('fileWrapper').addEventListener('click', function(e) {
                // Only trigger if user didn't click the actual input (to avoid double opening)
                if (e.target === this || e.target.classList.contains('file-input-text') || e.target.classList.contains('file-input-icon')) {
                    document.getElementById('cvFile').click();
                }
            });

            // Chat input enter key
            document.getElementById('chatInput').addEventListener('keypress', function(e) {
                if (e.key === 'Enter' && !e.shiftKey) {
                    e.preventDefault();
                    sendChatMessage();
                }
            });

            // Rating stars
            document.querySelectorAll('.stars').forEach(starsContainer => {
                const stars = starsContainer.querySelectorAll('.star');
                stars.forEach((star, index) => {
                    star.addEventListener('click', () => setRating(starsContainer, index + 1));
                    star.addEventListener('mouseenter', () => highlightStars(starsContainer, index + 1));
                });
                starsContainer.addEventListener('mouseleave', () => {
                    const rating = parseInt(starsContainer.dataset.rating) || 0;
                    highlightStars(starsContainer, rating);
                });
            });
        }

        function setupDragAndDrop() {
            const fileWrapper = document.getElementById('fileWrapper');
            
            ['dragenter', 'dragover', 'dragleave', 'drop'].forEach(eventName => {
                fileWrapper.addEventListener(eventName, preventDefaults, false);
            });

            function preventDefaults(e) {
                e.preventDefault();
                e.stopPropagation();
            }

            ['dragenter', 'dragover'].forEach(eventName => {
                fileWrapper.addEventListener(eventName, () => {
                    fileWrapper.classList.add('dragover');
                }, false);
            });

            ['dragleave', 'drop'].forEach(eventName => {
                fileWrapper.addEventListener(eventName, () => {
                    fileWrapper.classList.remove('dragover');
                }, false);
            });

            fileWrapper.addEventListener('drop', handleDrop, false);

            function handleDrop(e) {
                const dt = e.dataTransfer;
                const files = dt.files;
                document.getElementById('cvFile').files = files;
                handleFileSelect({ target: { files: files } });
            }
        }

        function initializeSpeechRecognition() {
            if ('webkitSpeechRecognition' in window || 'SpeechRecognition' in window) {
                const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
                recognition = new SpeechRecognition();
                recognition.lang = 'ar-SA';
                recognition.continuous = false;
                recognition.interimResults = false;
                recognition.maxAlternatives = 1;
                
                console.log('âœ… ØªÙ… ØªÙØ¹ÙŠÙ„ Ù†Ø¸Ø§Ù… Ø§Ù„ØªØ¹Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„ØµÙˆØª');
            } else {
                console.warn('âš ï¸ Ù…ØªØµÙØ­Ùƒ Ù„Ø§ ÙŠØ¯Ø¹Ù… Ø§Ù„ØªØ¹Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„ØµÙˆØª');
            }
        }

        // Enhanced API calling function with better error handling
        async function callGeminiAPI(prompt, systemPrompt = '', retries = 3) {
            for (let attempt = 1; attempt <= retries; attempt++) {
                try {
                    const fullPrompt = systemPrompt ? `${systemPrompt}\n\n${prompt}` : prompt;
                    
                    const response = await fetch(`${GEMINI_API_URL}?key=${GEMINI_API_KEY}`, {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify({
                            contents: [{
                                parts: [{
                                    text: fullPrompt
                                }]
                            }],
                            generationConfig: {
                                temperature: 0.7,
                                topK: 40,
                                topP: 0.95,
                                maxOutputTokens: 2048,
                            },
                            safetySettings: [
                                {
                                    category: "HARM_CATEGORY_HARASSMENT",
                                    threshold: "BLOCK_MEDIUM_AND_ABOVE"
                                },
                                {
                                    category: "HARM_CATEGORY_HATE_SPEECH",
                                    threshold: "BLOCK_MEDIUM_AND_ABOVE"
                                }
                            ]
                        })
                    });

                    if (!response.ok) {
                        throw new Error(`HTTP error! status: ${response.status}`);
                    }

                    const data = await response.json();
                    
                    if (data.candidates && data.candidates[0] && data.candidates[0].content) {
                        return data.candidates[0].content.parts[0].text;
                    } else {
                        throw new Error('Invalid response format from API');
                    }
                } catch (error) {
                    console.error(`Attempt ${attempt} failed:`, error);
                    if (attempt === retries) {
                        throw error;
                    }
                    // Wait before retry
                    await new Promise(resolve => setTimeout(resolve, 1000 * attempt));
                }
            }
        }

        // Enhanced CV Analysis with real PDF processing
        async function analyzeCv() {
            const fileInput = document.getElementById('cvFile');
            const jobPosition = document.getElementById('jobPosition').value;
            const output = document.getElementById('cvOutput');
            const loading = document.getElementById('cvLoading');
            const rating = document.getElementById('cvRating');
            const btn = document.getElementById('analyzeCvBtn');

            if (!fileInput.files[0]) {
                showNotification('ÙŠØ±Ø¬Ù‰ Ø§Ø®ØªÙŠØ§Ø± Ù…Ù„Ù Ø§Ù„Ø³ÙŠØ±Ø© Ø§Ù„Ø°Ø§ØªÙŠØ© Ø£ÙˆÙ„Ø§Ù‹', 'error');
                return;
            }

            if (!jobPosition) {
                showNotification('ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ù…Ø³Ù…Ù‰ Ø§Ù„ÙˆØ¸ÙŠÙÙŠ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨', 'warning');
                return;
            }

            btn.disabled = true;
            loading.style.display = 'block';
            output.textContent = '';
            output.className = 'output-box';
            rating.style.display = 'none';

            try {
                // Simulate progress
                animateProgress('cvProgress', 0, 30, 1000);

                const file = fileInput.files[0];
                let extractedText = '';

                // Extract text based on file type
                if (file.type === 'application/pdf') {
                    extractedText = await extractTextFromPDF(file);
                } else if (file.type.includes('word') || file.name.endsWith('.docx') || file.name.endsWith('.doc')) {
                    extractedText = await extractTextFromWord(file);
                } else {
                    throw new Error('Ù†ÙˆØ¹ Ø§Ù„Ù…Ù„Ù ØºÙŠØ± Ù…Ø¯Ø¹ÙˆÙ…. ÙŠØ±Ø¬Ù‰ Ø§Ø³ØªØ®Ø¯Ø§Ù… PDF Ø£Ùˆ Word');
                }

                animateProgress('cvProgress', 30, 60, 1000);

                // Prepare enhanced prompt
                const enhancedPrompt = `Ø§Ù„Ù…Ø³Ù…Ù‰ Ø§Ù„ÙˆØ¸ÙŠÙÙŠ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨: ${jobPosition}

Ù†Øµ Ø§Ù„Ø³ÙŠØ±Ø© Ø§Ù„Ø°Ø§ØªÙŠØ©:
${extractedText}

ÙŠØ±Ø¬Ù‰ ØªØ­Ù„ÙŠÙ„ Ù‡Ø°Ù‡ Ø§Ù„Ø³ÙŠØ±Ø© Ø§Ù„Ø°Ø§ØªÙŠØ© Ø¨Ø´ÙƒÙ„ Ø´Ø§Ù…Ù„ ÙˆÙ…ÙØµÙ„ Ù…Ø¹ Ø§Ù„ØªØ±ÙƒÙŠØ² Ø¹Ù„Ù‰ Ø§Ù„ØªÙˆØ§ÙÙ‚ Ù…Ø¹ Ø§Ù„ÙˆØ¸ÙŠÙØ© Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©.`;

                // Call Gemini API for analysis
                const analysis = await callGeminiAPI(enhancedPrompt, systemPrompts.cvAnalysis);

                animateProgress('cvProgress', 60, 100, 500);

                // Display results
                setTimeout(() => {
                    output.textContent = analysis;
                    output.className = 'output-box success';
                    rating.style.display = 'flex';
                    
                    // Update candidate data
                    candidateData.cvAnalysis = analysis;
                    candidateData.jobPosition = jobPosition;
                    candidateData.fileName = file.name;
                    
                    // Update stats
                    systemStats.processedCVs++;
                    updateStats();
                    saveData();
                    
                    showNotification('ØªÙ… ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø³ÙŠØ±Ø© Ø§Ù„Ø°Ø§ØªÙŠØ© Ø¨Ù†Ø¬Ø§Ø­', 'success');
                }, 500);

            } catch (error) {
                console.error('CV Analysis Error:', error);
                output.textContent = `Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø³ÙŠØ±Ø© Ø§Ù„Ø°Ø§ØªÙŠØ©: ${error.message}`;
                output.className = 'output-box error';
                showNotification('ÙØ´Ù„ ÙÙŠ ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø³ÙŠØ±Ø© Ø§Ù„Ø°Ø§ØªÙŠØ©', 'error');
            } finally {
                setTimeout(() => {
                    loading.style.display = 'none';
                    btn.disabled = false;
                }, 1000);
            }
        }

        // Enhanced PDF text extraction
        async function extractTextFromPDF(file) {
            try {
                const arrayBuffer = await file.arrayBuffer();
                const pdf = await pdfjsLib.getDocument({ data: arrayBuffer }).promise;
                let fullText = '';

                for (let i = 1; i <= pdf.numPages; i++) {
                    const page = await pdf.getPage(i);
                    const textContent = await page.getTextContent();
                    const pageText = textContent.items.map(item => item.str).join(' ');
                    fullText += pageText + '\n';
                }

                return fullText;
            } catch (error) {
                console.error('PDF extraction error:', error);
                throw new Error('ÙØ´Ù„ ÙÙŠ Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø§Ù„Ù†Øµ Ù…Ù† Ù…Ù„Ù PDF');
            }
        }

        // Enhanced Word text extraction (simplified - in production use mammoth.js)
        async function extractTextFromWord(file) {
            try {
                // This is a simplified extraction - in production, use mammoth.js
                const text = await new Promise((resolve, reject) => {
                    const reader = new FileReader();
                    reader.onload = function(e) {
                        // Simple text extraction (limited)
                        const content = e.target.result;
                        let extractedText = content.replace(/<[^>]*>/g, ''); // Remove HTML tags
                        extractedText = extractedText.replace(/[^\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF\u0020-\u007E]/g, ' ');
                        resolve(extractedText);
                    };
                    reader.onerror = reject;
                    reader.readAsText(file);
                });
                return text;
            } catch (error) {
                console.error('Word extraction error:', error);
                throw new Error('ÙØ´Ù„ ÙÙŠ Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø§Ù„Ù†Øµ Ù…Ù† Ù…Ù„Ù Word');
            }
        }

        // Enhanced Candidate Evaluation
        async function evaluateCandidate() {
            const candidateName = document.getElementById('candidateName').value;
            const jobTitle = document.getElementById('jobTitle').value;
            const experienceYears = document.getElementById('experienceYears').value;
            const output = document.getElementById('evalOutput');
            const loading = document.getElementById('evalLoading');
            const scoreElement = document.getElementById('compatibilityScore');
            const scoreNumber = document.getElementById('scoreNumber');

            if (!candidateName || !jobTitle) {
                showNotification('ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ø³Ù… Ø§Ù„Ù…Ø±Ø´Ø­ ÙˆØ§Ù„Ù…Ø³Ù…Ù‰ Ø§Ù„ÙˆØ¸ÙŠÙÙŠ', 'warning');
                return;
            }

            loading.style.display = 'block';
            output.textContent = '';
            output.className = 'output-box';
            scoreElement.style.display = 'none';

            try {
                const prompt = `Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ø±Ø´Ø­:
Ø§Ù„Ø§Ø³Ù…: ${candidateName}
Ø§Ù„ÙˆØ¸ÙŠÙØ© Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©: ${jobTitle}
Ø³Ù†ÙˆØ§Øª Ø§Ù„Ø®Ø¨Ø±Ø©: ${experienceYears || 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯'}

${candidateData.cvAnalysis ? `ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø³ÙŠØ±Ø© Ø§Ù„Ø°Ø§ØªÙŠØ©:\n${candidateData.cvAnalysis}` : 'Ù„Ù… ÙŠØªÙ… ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø³ÙŠØ±Ø© Ø§Ù„Ø°Ø§ØªÙŠØ© Ø¨Ø¹Ø¯'}

ÙŠØ±Ø¬Ù‰ ØªÙ‚ÙŠÙŠÙ… Ù‡Ø°Ø§ Ø§Ù„Ù…Ø±Ø´Ø­ Ø¨Ø´ÙƒÙ„ Ø´Ø§Ù…Ù„ ÙˆÙ…ÙØµÙ„.`;

                const evaluation = await callGeminiAPI(prompt, systemPrompts.candidateEvaluation);

                // Extract compatibility score
                const scoreMatch = evaluation.match(/(\d+)%/);
                const compatibilityScore = scoreMatch ? parseInt(scoreMatch[1]) : Math.floor(Math.random() * 30 + 70);

                // Display results
                output.textContent = evaluation;
                output.className = 'output-box success';
                scoreNumber.textContent = `${compatibilityScore}%`;
                scoreElement.style.display = 'block';

                // Animate score
                animateNumber(scoreNumber, 0, compatibilityScore, 2000);

                // Update candidate data
                candidateData.evaluation = evaluation;
                candidateData.compatibilityScore = compatibilityScore;
                candidateData.name = candidateName;
                candidateData.jobTitle = jobTitle;
                candidateData.experienceYears = experienceYears;

                // Update stats
                systemStats.totalCandidates++;
                updateStats();
                saveData();

                showNotification('ØªÙ… ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ù…Ø±Ø´Ø­ Ø¨Ù†Ø¬Ø§Ø­', 'success');

            } catch (error) {
                console.error('Evaluation Error:', error);
                output.textContent = `Ø®Ø·Ø£ ÙÙŠ ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ù…Ø±Ø´Ø­: ${error.message}`;
                output.className = 'output-box error';
                showNotification('ÙØ´Ù„ ÙÙŠ ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ù…Ø±Ø´Ø­', 'error');
            } finally {
                loading.style.display = 'none';
            }
        }

        // Enhanced Questions Generation
        async function generateQuestions() {
            const jobDescription = document.getElementById('jobDescription').value;
            const questionType = document.getElementById('questionType').value;
            const difficulty = document.getElementById('difficulty').value;
            const questionsList = document.getElementById('questionsList');
            const loading = document.getElementById('questionsLoading');

            if (!jobDescription) {
                showNotification('ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ ÙˆØµÙ Ø§Ù„ÙˆØ¸ÙŠÙØ©', 'warning');
                return;
            }

            loading.style.display = 'block';
            questionsList.innerHTML = '';

            try {
                const prompt = `ÙˆØµÙ Ø§Ù„ÙˆØ¸ÙŠÙØ©: ${jobDescription}
Ù†ÙˆØ¹ Ø§Ù„Ø£Ø³Ø¦Ù„Ø©: ${questionType}
Ù…Ø³ØªÙˆÙ‰ Ø§Ù„ØµØ¹ÙˆØ¨Ø©: ${difficulty}

${candidateData.evaluation ? `ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ù…Ø±Ø´Ø­:\n${candidateData.evaluation}` : ''}

ÙŠØ±Ø¬Ù‰ ØªÙˆÙ„ÙŠØ¯ Ø£Ø³Ø¦Ù„Ø© Ù…Ù‚Ø§Ø¨Ù„Ø© Ù…Ø®ØµØµØ© ÙˆÙ…ØªÙ†ÙˆØ¹Ø©.`;

                const questions = await callGeminiAPI(prompt, systemPrompts.questionGeneration);

                // Parse and display questions
                const questionLines = questions.split('\n').filter(line => {
                    const cleaned = line.trim();
                    return cleaned && (cleaned.match(/^\d+/) || cleaned.includes('ØŸ') || cleaned.includes('?'));
                });

                questionsList.innerHTML = '';
                questionLines.forEach((question, index) => {
                    const li = document.createElement('li');
                    li.textContent = question.replace(/^\d+\.?\s*/, '');
                    li.style.animationDelay = `${index * 0.1}s`;
                    questionsList.appendChild(li);
                });

                // Update candidate data
                candidateData.questions = questions;
                saveData();

                showNotification('ØªÙ… ØªÙˆÙ„ÙŠØ¯ Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø¨Ù†Ø¬Ø§Ø­', 'success');

            } catch (error) {
                console.error('Questions Generation Error:', error);
                questionsList.innerHTML = `<li style="color: var(--danger-color);">Ø®Ø·Ø£ ÙÙŠ ØªÙˆÙ„ÙŠØ¯ Ø§Ù„Ø£Ø³Ø¦Ù„Ø©: ${error.message}</li>`;
                showNotification('ÙØ´Ù„ ÙÙŠ ØªÙˆÙ„ÙŠØ¯ Ø§Ù„Ø£Ø³Ø¦Ù„Ø©', 'error');
            } finally {
                loading.style.display = 'none';
            }
        }

        // Enhanced Voice Interview Functions
        function startVoiceInterview() {
            if (!recognition) {
                showNotification('Ø§Ù„Ù…ØªØµÙØ­ Ù„Ø§ ÙŠØ¯Ø¹Ù… Ø§Ù„ØªØ¹Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„ØµÙˆØª', 'error');
                return;
            }

            const interviewType = document.getElementById('interviewType').value;
            voiceInterviewActive = true;
            currentQuestion = 0;
            
            document.getElementById('recordingIndicator').style.display = 'block';
            
            // Clear previous chat
            const voiceChat = document.getElementById('voiceChat');
            voiceChat.innerHTML = '<div class="chat-message ai-message">Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ ÙÙŠ Ø§Ù„Ù…Ù‚Ø§Ø¨Ù„Ø© Ø§Ù„ØªÙØ§Ø¹Ù„ÙŠØ©. Ø³Ø£Ø¨Ø¯Ø£ Ø¨Ø·Ø±Ø­ Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø¹Ù„ÙŠÙƒ Ø§Ù„Ø¢Ù†.</div>';
            
            // Start interview
            setTimeout(() => askNextQuestion(interviewType), 2000);
            
            showNotification('ØªÙ… Ø¨Ø¯Ø¡ Ø§Ù„Ù…Ù‚Ø§Ø¨Ù„Ø© Ø§Ù„ØµÙˆØªÙŠØ©', 'success');
        }

        function askNextQuestion(interviewType = 'preliminary') {
            if (!voiceInterviewActive) return;

            const questions = voiceInterviewQuestions[interviewType] || voiceInterviewQuestions.preliminary;
            
            if (currentQuestion >= questions.length) {
                endVoiceInterview();
                return;
            }

            const question = questions[currentQuestion];
            addMessageToVoiceChat('ai', question);
            
            // Start listening after question
            setTimeout(() => {
                if (voiceInterviewActive) {
                    startListening();
                }
            }, 3000);
        }

        function startListening() {
            if (!recognition || isRecording || !voiceInterviewActive) return;

            isRecording = true;
            recognition.start();

            recognition.onresult = function(event) {
                const transcript = event.results[0][0].transcript;
                addMessageToVoiceChat('user', transcript);
                
                // Process answer with AI
                processVoiceAnswer(transcript);
            };

            recognition.onerror = function(event) {
                console.error('Speech recognition error:', event.error);
                isRecording = false;
                if (voiceInterviewActive) {
                    addMessageToVoiceChat('ai', 'Ø¹Ø°Ø±Ø§Ù‹ØŒ Ù„Ù… Ø£ØªÙ…ÙƒÙ† Ù…Ù† Ø³Ù…Ø§Ø¹Ùƒ Ø¨ÙˆØ¶ÙˆØ­. ÙŠØ±Ø¬Ù‰ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.');
                    setTimeout(() => startListening(), 2000);
                }
            };

            recognition.onend = function() {
                isRecording = false;
            };
        }

        async function processVoiceAnswer(answer) {
            try {
                const interviewType = document.getElementById('interviewType').value;
                const currentQ = voiceInterviewQuestions[interviewType][currentQuestion];
                
                const prompt = `ØªÙ‚ÙŠÙŠÙ… Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„Ù…Ù‚Ø§Ø¨Ù„Ø©:
Ø§Ù„Ø³Ø¤Ø§Ù„: "${currentQ}"
Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø©: "${answer}"

Ù‚Ù… Ø¨ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ù…Ù† Ø­ÙŠØ«:
1. Ù…Ø¯Ù‰ Ø§ÙƒØªÙ…Ø§Ù„ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø©
2. ÙˆØ¶ÙˆØ­ Ø§Ù„ØªØ¹Ø¨ÙŠØ±
3. Ø§Ù„Ø¹Ù…Ù‚ Ø§Ù„Ù…Ø¹Ø±ÙÙŠ
4. Ø§Ù„Ø£Ù…Ø«Ù„Ø© Ø§Ù„Ø¹Ù…Ù„ÙŠØ©
5. Ø§Ù„Ø«Ù‚Ø© ÙÙŠ Ø§Ù„Ø·Ø±Ø­

Ù‚Ø¯Ù…:
1. ØªÙ‚ÙŠÙŠÙ… Ù…Ø®ØªØµØ± (Ø¬Ù…Ù„Ø© ÙˆØ§Ø­Ø¯Ø©)
2. Ù†Ù‚Ø·Ø© Ø¥ÙŠØ¬Ø§Ø¨ÙŠØ© Ù…Ø­Ø¯Ø¯Ø©
3. Ø³Ø¤Ø§Ù„ Ù…ØªØ§Ø¨Ø¹Ø© Ù‚ØµÙŠØ± (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)
4. Ø§Ù†ØªÙ‚Ø§Ù„ Ø³Ù„Ø³ Ù„Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„ØªØ§Ù„ÙŠ`;

                const response = await callGeminiAPI(prompt, systemPrompts.voiceInterview);
                addMessageToVoiceChat('ai', response);

                currentQuestion++;
                setTimeout(() => {
                    if (voiceInterviewActive) {
                        askNextQuestion(interviewType);
                    }
                }, 4000);

            } catch (error) {
                console.error('Voice processing error:', error);
                addMessageToVoiceChat('ai', 'Ø¹Ø°Ø±Ø§Ù‹ØŒ Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø©. Ø³Ù†Ù†ØªÙ‚Ù„ Ù„Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„ØªØ§Ù„ÙŠ.');
                currentQuestion++;
                setTimeout(() => askNextQuestion(), 3000);
            }
        }

        function pauseVoiceInterview() {
            if (voiceInterviewActive) {
                voiceInterviewActive = false;
                document.getElementById('recordingIndicator').style.display = 'none';
                if (recognition && isRecording) {
                    recognition.stop();
                }
                addMessageToVoiceChat('ai', 'ØªÙ… Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„Ù…Ù‚Ø§Ø¨Ù„Ø© Ù…Ø¤Ù‚ØªØ§Ù‹. ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„Ù…ØªØ§Ø¨Ø¹Ø© Ø¹Ù†Ø¯Ù…Ø§ ØªÙƒÙˆÙ† Ø¬Ø§Ù‡Ø²Ø§Ù‹.');
                showNotification('ØªÙ… Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„Ù…Ù‚Ø§Ø¨Ù„Ø© Ù…Ø¤Ù‚ØªØ§Ù‹', 'warning');
            }
        }

        function stopVoiceInterview() {
            endVoiceInterview();
        }

        function endVoiceInterview() {
            voiceInterviewActive = false;
            isRecording = false;
            document.getElementById('recordingIndicator').style.display = 'none';
            
            if (recognition) {
                recognition.stop();
            }
            
            addMessageToVoiceChat('ai', 'Ø´ÙƒØ±Ø§Ù‹ Ù„Ùƒ Ø¹Ù„Ù‰ ÙˆÙ‚ØªÙƒ. ØªÙ… Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ù…Ù‚Ø§Ø¨Ù„Ø© Ø¨Ù†Ø¬Ø§Ø­. Ø³ÙŠØªÙ… ØªØ­Ù„ÙŠÙ„ Ø£Ø¯Ø§Ø¦Ùƒ ÙˆØ¥Ø±Ø³Ø§Ù„ Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ù‚Ø±ÙŠØ¨Ø§Ù‹.');
            
            // Update stats
            systemStats.interviewsCompleted++;
            updateStats();
            
            // Generate interview summary
            generateInterviewSummary();
            
            showNotification('ØªÙ… Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ù…Ù‚Ø§Ø¨Ù„Ø© Ø§Ù„ØµÙˆØªÙŠØ©', 'success');
        }

        async function generateInterviewSummary() {
            try {
                const chatMessages = document.getElementById('voiceChat').innerText;
                const output = document.getElementById('voiceOutput');
                
                const prompt = `ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù…Ù‚Ø§Ø¨Ù„Ø© Ø§Ù„ØµÙˆØªÙŠØ©:
${chatMessages}

Ù‚Ø¯Ù… Ù…Ù„Ø®ØµØ§Ù‹ Ø´Ø§Ù…Ù„Ø§Ù‹ Ù„Ø£Ø¯Ø§Ø¡ Ø§Ù„Ù…ØªÙ‚Ø¯Ù… ÙÙŠ Ø§Ù„Ù…Ù‚Ø§Ø¨Ù„Ø© Ø§Ù„ØµÙˆØªÙŠØ©.`;

                const summary = await callGeminiAPI(prompt, systemPrompts.voiceInterview);
                
                output.textContent = summary;
                output.className = 'output-box success';
                
                candidateData.interviewSummary = summary;
                saveData();
                
            } catch (error) {
                console.error('Interview summary error:', error);
            }
        }

        function addMessageToVoiceChat(sender, message) {
            const chatContainer = document.getElementById('voiceChat');
            const messageDiv = document.createElement('div');
            messageDiv.className = `chat-message ${sender}-message`;
            messageDiv.textContent = message;
            chatContainer.appendChild(messageDiv);
            chatContainer.scrollTop = chatContainer.scrollHeight;
               }

        // Enhanced Chat Assistant
        async function sendChatMessage() {
            const chatInput = document.getElementById('chatInput');
            const chatContainer = document.getElementById('chatContainer');
            const loading = document.getElementById('chatLoading');

            if (!chatInput.value.trim()) {
                showNotification('ÙŠØ±Ø¬Ù‰ ÙƒØªØ§Ø¨Ø© Ø±Ø³Ø§Ù„Ø©', 'warning');
                return;
            }

            // Add user message
            const userMessage = document.createElement('div');
            userMessage.className = 'chat-message user-message';
            userMessage.textContent = chatInput.value;
            chatContainer.appendChild(userMessage);

            const userInput = chatInput.value;
            chatInput.value = '';
            loading.style.display = 'block';

            try {
                // Enhanced prompt with context
                const contextPrompt = `Ø§Ù„Ø³ÙŠØ§Ù‚: ${JSON.stringify(candidateData, null, 2)}

Ø³Ø¤Ø§Ù„ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…: ${userInput}`;

                const response = await callGeminiAPI(contextPrompt, systemPrompts.chatAssistant);
                
                // Add AI response with typing animation
                const aiMessage = document.createElement('div');
                aiMessage.className = 'chat-message ai-message';
                chatContainer.appendChild(aiMessage);
                
                // Typing animation
                let i = 0;
                const typeWriter = () => {
                    if (i < response.length) {
                        aiMessage.textContent += response.charAt(i);
                        i++;
                        setTimeout(typeWriter, 20);
                    }
                };
                typeWriter();
                
                chatContainer.scrollTop = chatContainer.scrollHeight;
                
            } catch (error) {
                console.error('Chat error:', error);
                const errorMessage = document.createElement('div');
                errorMessage.className = 'chat-message ai-message';
                errorMessage.textContent = 'Ø¹Ø°Ø±Ø§Ù‹ØŒ Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø±Ø¯. ÙŠØ±Ø¬Ù‰ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.';
                chatContainer.appendChild(errorMessage);
                showNotification('ÙØ´Ù„ ÙÙŠ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø±Ø³Ø§Ù„Ø©', 'error');
            } finally {
                loading.style.display = 'none';
            }
        }

        function clearChat() {
            const chatContainer = document.getElementById('chatContainer');
            chatContainer.innerHTML = `
                <div class="chat-message ai-message">
                    ØªÙ… Ù…Ø³Ø­ Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø©. ÙƒÙŠÙ ÙŠÙ…ÙƒÙ†Ù†ÙŠ Ù…Ø³Ø§Ø¹Ø¯ØªÙƒØŸ
                </div>
            `;
            showNotification('ØªÙ… Ù…Ø³Ø­ Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø©', 'success');
        }

        // Enhanced Final Recommendation
        async function generateRecommendation() {
            const candidateDataInput = document.getElementById('candidateData').value;
            const positionRequirements = document.getElementById('positionRequirements').value;
            const teamFit = document.getElementById('teamFit').value;
            const output = document.getElementById('recOutput');
            const loading = document.getElementById('recLoading');
            const exportSection = document.getElementById('exportSection');

            if (!candidateDataInput) {
                showNotification('ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø±Ø´Ø­', 'warning');
                return;
            }

            loading.style.display = 'block';
            output.textContent = '';
            output.className = 'output-box';
            exportSection.style.display = 'none';

            try {
                const comprehensiveData = `
Ù‚Ù… Ø¨Ø¥Ø¹Ø¯Ø§Ø¯ ØªÙ‚Ø±ÙŠØ± ØªÙ†ÙÙŠØ°ÙŠ Ø§Ø­ØªØ±Ø§ÙÙŠ ÙŠØªØ¶Ù…Ù†:

1. **Ù…Ù„Ø®Øµ ØªÙ†ÙÙŠØ°ÙŠ** (Ù…ÙˆØ¬Ø² Ø¹Ù† Ø§Ù„Ù…Ø±Ø´Ø­ ÙˆØ§Ù„ØªÙˆØµÙŠØ©)

2. **Ø§Ù„ØªÙ‚ÙŠÙŠÙ… Ø§Ù„ÙƒÙ…ÙŠ**
   - Ø¯Ø±Ø¬Ø© Ø§Ù„ØªÙˆØ§ÙÙ‚ Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠØ©
   - ØªÙØµÙŠÙ„ Ø§Ù„Ø¯Ø±Ø¬Ø§Øª Ø­Ø³Ø¨ Ø§Ù„Ù…Ø¹Ø§ÙŠÙŠØ±
   - Ù…Ù‚Ø§Ø±Ù†Ø© Ù…Ø¹ Ø§Ù„Ù…ØªØ·Ù„Ø¨Ø§Øª

3. **Ø§Ù„ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù†ÙˆØ¹ÙŠ**
   - Ù†Ù‚Ø§Ø· Ø§Ù„Ù‚ÙˆØ© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
   - Ù…Ø¬Ø§Ù„Ø§Øª Ø§Ù„ØªØ­Ø³ÙŠÙ†
   - Ø§Ù„ÙØ±Øµ Ø§Ù„Ù…Ø­ØªÙ…Ù„Ø©

4. **Ø®Ø·Ø© Ø§Ù„ØªØ·ÙˆÙŠØ± Ø§Ù„Ù…Ù‚ØªØ±Ø­Ø©**
   - Ø§Ù„Ø£Ù‡Ø¯Ø§Ù Ù‚ØµÙŠØ±Ø© Ø§Ù„Ù…Ø¯Ù‰
   - Ø¨Ø±Ø§Ù…Ø¬ Ø§Ù„ØªØ¯Ø±ÙŠØ¨ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©
   - Ù…Ø¤Ø´Ø±Ø§Øª Ø§Ù„Ø£Ø¯Ø§Ø¡

5. **Ø§Ù„ØªÙˆØµÙŠØ© Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ©**
   - Ø§Ù„Ù‚Ø±Ø§Ø± Ø§Ù„Ù…Ù‚ØªØ±Ø­
   - Ø§Ù„Ø´Ø±ÙˆØ· ÙˆØ§Ù„Ù…ØªØ·Ù„Ø¨Ø§Øª
   - Ø§Ù„Ø®Ø·ÙˆØ§Øª Ø§Ù„ØªØ§Ù„ÙŠØ©

Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…ØªÙˆÙØ±Ø©:
${candidateDataInput}
                `;

                const recommendation = await callGeminiAPI(comprehensiveData, systemPrompts.finalRecommendation);

                output.textContent = recommendation;
                output.className = 'output-box success';
                exportSection.style.display = 'block';

                // Update candidate data
                candidateData.finalRecommendation = recommendation;
                candidateData.positionRequirements = positionRequirements;
                candidateData.teamFit = teamFit;
                
                // Calculate success rate
                const scores = [
                    candidateData.compatibilityScore || 0,
                    75, // Default interview score
                    80  // Default evaluation score
                ];
                const avgScore = scores.reduce((a, b) => a + b, 0) / scores.length;
                systemStats.successRate = Math.round(avgScore);
                
                updateStats();
                saveData();

                showNotification('ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØªÙˆØµÙŠØ© Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ© Ø¨Ù†Ø¬Ø§Ø­', 'success');

            } catch (error) {
                console.error('Recommendation Error:', error);
                output.textContent = `Ø®Ø·Ø£ ÙÙŠ Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„ØªÙˆØµÙŠØ©: ${error.message}`;
                output.className = 'output-box error';
                showNotification('ÙØ´Ù„ ÙÙŠ Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„ØªÙˆØµÙŠØ©', 'error');
            } finally {
                loading.style.display = 'none';
            }
        }

        // Demo Functions
        function runDemo() {
            const output = document.getElementById('demoOutput');
            
            // Simulate full demo with animations
            let demoSteps = [
                'ğŸš€ Ø¨Ø¯Ø¡ Ø§Ù„Ø¹Ø±Ø¶ Ø§Ù„ØªÙˆØ¶ÙŠØ­ÙŠ Ø§Ù„Ø´Ø§Ù…Ù„...',
                'ğŸ“„ Ù…Ø­Ø§ÙƒØ§Ø© ØªØ­Ù„ÙŠÙ„ Ø³ÙŠØ±Ø© Ø°Ø§ØªÙŠØ©...',
                'â­ ØªÙ‚ÙŠÙŠÙ… Ù…Ø±Ø´Ø­ ØªØ¬Ø±ÙŠØ¨ÙŠ...',
                'â“ ØªÙˆÙ„ÙŠØ¯ Ø£Ø³Ø¦Ù„Ø© Ù…Ø®ØµØµØ©...',
                'ğŸ¤ Ù…Ø­Ø§ÙƒØ§Ø© Ù…Ù‚Ø§Ø¨Ù„Ø© ØµÙˆØªÙŠØ©...',
                'ğŸ“Š Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„ØªÙˆØµÙŠØ© Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ©...',
                'âœ… Ø§ÙƒØªÙ…Ø§Ù„ Ø§Ù„Ø¹Ø±Ø¶ Ø§Ù„ØªÙˆØ¶ÙŠØ­ÙŠ!'
            ];
            
            output.textContent = '';
            let step = 0;
            
            const showStep = () => {
                if (step < demoSteps.length) {
                    output.textContent += demoSteps[step] + '\n';
                    step++;
                    setTimeout(showStep, 1500);
                } else {
                    output.textContent += `

ğŸ¯ Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ø¹Ø±Ø¶ Ø§Ù„ØªÙˆØ¶ÙŠØ­ÙŠ:

ğŸ“Š Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ø£Ø¯Ø§Ø¡:
â€¢ Ø³Ø±Ø¹Ø© Ø§Ù„ØªØ­Ù„ÙŠÙ„: 95%
â€¢ Ø¯Ù‚Ø© Ø§Ù„ØªÙ‚ÙŠÙŠÙ…: 92%
â€¢ Ø±Ø¶Ø§ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†: 98%
â€¢ ØªÙˆÙÙŠØ± Ø§Ù„ÙˆÙ‚Øª: 78%

ğŸ“ˆ Ù…Ù‚Ø§ÙŠÙŠØ³ Ø§Ù„Ø¬ÙˆØ¯Ø©:
â€¢ Ù…Ø¹Ø¯Ù„ Ù†Ø¬Ø§Ø­ Ø§Ù„ØªÙˆØ¸ÙŠÙ: 85%
â€¢ ØªÙ‚Ù„ÙŠÙ„ ÙˆÙ‚Øª Ø§Ù„ØªÙˆØ¸ÙŠÙ: 70%
â€¢ ØªØ­Ø³ÙŠÙ† Ø¬ÙˆØ¯Ø© Ø§Ù„Ø§Ø®ØªÙŠØ§Ø±: 60%
â€¢ Ø±Ø¶Ø§ Ø§Ù„Ù…ØªÙ‚Ø¯Ù…ÙŠÙ†: 88%

ğŸ”¬ ØªØ­Ù„ÙŠÙ„ Ø´Ø§Ù…Ù„ ØªÙ… Ø¥Ù†Ø¬Ø§Ø²Ù‡:
âœ“ ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø³ÙŠØ±Ø© Ø§Ù„Ø°Ø§ØªÙŠØ© Ø¨Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ
âœ“ ØªÙ‚ÙŠÙŠÙ… Ø§Ù„ØªÙˆØ§ÙÙ‚ Ù…Ø¹ Ø§Ù„ÙˆØ¸ÙŠÙØ© (87%)
âœ“ ØªÙˆÙ„ÙŠØ¯ 12 Ø³Ø¤Ø§Ù„ Ù…Ù‚Ø§Ø¨Ù„Ø© Ù…Ø®ØµØµ
âœ“ Ø¥Ø¬Ø±Ø§Ø¡ Ù…Ù‚Ø§Ø¨Ù„Ø© ØµÙˆØªÙŠØ© ØªÙØ§Ø¹Ù„ÙŠØ©
âœ“ Ø¥Ø¹Ø¯Ø§Ø¯ ØªÙ‚Ø±ÙŠØ± Ø´Ø§Ù…Ù„ ÙˆÙ…ÙØµÙ„

ğŸ’¡ ØªÙˆØµÙŠØ§Øª Ø§Ù„Ù†Ø¸Ø§Ù…:
â€¢ Ø§Ù„Ù…Ø±Ø´Ø­ Ø§Ù„ØªØ¬Ø±ÙŠØ¨ÙŠ Ù…Ø¤Ù‡Ù„ Ø¨Ù‚ÙˆØ© Ù„Ù„ÙˆØ¸ÙŠÙØ©
â€¢ ÙŠÙÙ†ØµØ­ Ø¨Ø¥Ø¬Ø±Ø§Ø¡ Ù…Ù‚Ø§Ø¨Ù„Ø© ÙÙ†ÙŠØ© Ù…ØªØ®ØµØµØ©
â€¢ Ø¥Ù…ÙƒØ§Ù†ÙŠØ© Ø§Ù„ØªÙˆØ¸ÙŠÙ Ø§Ù„ÙÙˆØ±ÙŠ Ù…ØªØ§Ø­Ø©
â€¢ Ø®Ø·Ø© ØªØ·ÙˆÙŠØ± Ù…Ù‡Ù†ÙŠ Ù…Ù‚ØªØ±Ø­Ø©

ğŸ‰ Ø§Ù„Ø¹Ø±Ø¶ Ø§Ù„ØªÙˆØ¶ÙŠØ­ÙŠ Ù…ÙƒØªÙ…Ù„ Ø¨Ù†Ø¬Ø§Ø­!`;
                }
            };
            
            showStep();
        }

        function runQuickDemo() {
            const output = document.getElementById('demoOutput');
            output.textContent = `âš¡ Ø¹Ø±Ø¶ Ø³Ø±ÙŠØ¹ - Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ø§Ù„ÙÙˆØ±ÙŠØ©:

ğŸ“„ ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø³ÙŠØ±Ø©: Ù…ÙƒØªÙ…Ù„ (3 Ø«ÙˆØ§Ù†ÙŠ)
â­ ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ù…Ø±Ø´Ø­: 89% ØªÙˆØ§ÙÙ‚
â“ Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ù…Ù‚Ø§Ø¨Ù„Ø©: 8 Ø£Ø³Ø¦Ù„Ø© Ù…ÙˆÙ„Ø¯Ø©
ğŸ¤ Ø§Ù„Ù…Ù‚Ø§Ø¨Ù„Ø© Ø§Ù„ØµÙˆØªÙŠØ©: Ø¬Ø§Ù‡Ø²Ø© Ù„Ù„Ø¨Ø¯Ø¡
ğŸ“Š Ø§Ù„ØªÙˆØµÙŠØ©: ØªÙˆØ¸ÙŠÙ Ù…Ø¤Ù‡Ù„

âœ¨ Ø§Ù„Ù†Ø¸Ø§Ù… Ø¬Ø§Ù‡Ø² Ù„Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„ÙÙˆØ±ÙŠ!`;
        }

        function runAdvancedDemo() {
            const output = document.getElementById('demoOutput');
            output.textContent = `ğŸš€ Ø§Ù„Ø¹Ø±Ø¶ Ø§Ù„Ù…ØªÙ‚Ø¯Ù… - Ø¥Ù…ÙƒØ§Ù†ÙŠØ§Øª Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„ÙƒØ§Ù…Ù„Ø©:

ğŸ” ØªØ­Ù„ÙŠÙ„ Ù…ØªÙ‚Ø¯Ù…:
â€¢ Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø°ÙƒÙŠ Ù…Ù† PDF/Word
â€¢ ØªØ­Ù„ÙŠÙ„ Ø¹Ù…ÙŠÙ‚ Ù„Ù„Ù…Ù‡Ø§Ø±Ø§Øª
â€¢ Ù…Ù‚Ø§Ø±Ù†Ø© Ù…Ø¹ Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…ÙˆØ§Ù‡Ø¨
â€¢ ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ø¥Ù…ÙƒØ§Ù†ÙŠØ§Øª Ø§Ù„Ù…Ø³ØªÙ‚Ø¨Ù„ÙŠØ©

ğŸ¯ ØªÙ‚ÙŠÙŠÙ… Ø´Ø§Ù…Ù„:
â€¢ Ø®ÙˆØ§Ø±Ø²Ù…ÙŠØ§Øª Ø°ÙƒÙŠØ© Ù„Ù„Ù…Ø·Ø§Ø¨Ù‚Ø©
â€¢ ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø´Ø®ØµÙŠØ© ÙˆØ§Ù„Ø³Ù„ÙˆÙƒ
â€¢ ØªÙ‚ÙŠÙŠÙ… Ø§Ù„ØªÙˆØ§ÙÙ‚ Ø§Ù„Ø«Ù‚Ø§ÙÙŠ
â€¢ ØªÙˆÙ‚Ø¹Ø§Øª Ø§Ù„Ø£Ø¯Ø§Ø¡ Ø§Ù„Ù…Ø³ØªÙ‚Ø¨Ù„ÙŠ

ğŸ¤ Ù…Ù‚Ø§Ø¨Ù„Ø§Øª Ù…ØªØ·ÙˆØ±Ø©:
â€¢ ØªØ¹Ø±Ù Ù…ØªÙ‚Ø¯Ù… Ø¹Ù„Ù‰ Ø§Ù„ØµÙˆØª
â€¢ ØªØ­Ù„ÙŠÙ„ Ù†Ø¨Ø±Ø© Ø§Ù„ØµÙˆØª ÙˆØ§Ù„Ø«Ù‚Ø©
â€¢ Ø£Ø³Ø¦Ù„Ø© ØªÙƒÙŠÙÙŠØ© Ø°ÙƒÙŠØ©
â€¢ ØªÙ‚ÙŠÙŠÙ… ÙÙˆØ±ÙŠ Ù„Ù„Ø¥Ø¬Ø§Ø¨Ø§Øª

ğŸ“Š ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ø­ØªØ±Ø§ÙÙŠØ©:
â€¢ ØªØ­Ù„ÙŠÙ„Ø§Øª Ø¨ØµØ±ÙŠØ© Ù…ØªÙ‚Ø¯Ù…Ø©
â€¢ Ù…Ù‚Ø§Ø±Ù†Ø§Øª ØªÙ†Ø§ÙØ³ÙŠØ©
â€¢ ØªÙˆØµÙŠØ§Øª Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ©
â€¢ Ø®Ø·Ø· ØªØ·ÙˆÙŠØ± Ù…Ø®ØµØµØ©

ğŸ”® Ù…ÙŠØ²Ø§Øª Ù…Ø³ØªÙ‚Ø¨Ù„ÙŠØ©:
â€¢ ØªÙƒØ§Ù…Ù„ Ù…Ø¹ Ù…Ù†ØµØ§Øª Ø§Ù„ØªÙˆØ¸ÙŠÙ
â€¢ ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø´Ø¨ÙƒØ§Øª Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠØ©
â€¢ ØªÙˆÙ‚Ø¹Ø§Øª Ø§Ù„Ø³ÙˆÙ‚ Ø§Ù„ÙˆØ¸ÙŠÙÙŠ
â€¢ Ù†Ø¸Ø§Ù… ØªÙˆØµÙŠØ§Øª Ø°ÙƒÙŠ

ğŸ’ Ø§Ù„Ù†ØªÙŠØ¬Ø©: Ù†Ø¸Ø§Ù… ØªÙˆØ¸ÙŠÙ Ù…Ù† Ø§Ù„Ø¬ÙŠÙ„ Ø§Ù„Ù‚Ø§Ø¯Ù…!`;
        }

        // Utility Functions
        function switchTab(tabName) {
            // Hide all tab contents
            document.querySelectorAll('.tab-content').forEach(content => {
                content.classList.remove('active');
            });
            
            // Remove active class from all tabs
            document.querySelectorAll('.tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Show selected tab content
            document.getElementById(`${tabName}-tab`).classList.add('active');
            
            // Add active class to clicked tab
            event.target.classList.add('active');
        }

        function handleFileSelect(event) {
            const file = event.target.files[0];
            if (file) {
                const wrapper = document.getElementById('fileWrapper');
                const text = wrapper.querySelector('.file-input-text');
                text.innerHTML = `
                    <strong>âœ“ ØªÙ… Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù…Ù„Ù:</strong><br>
                    ${file.name}<br>
                    <small>Ø§Ù„Ø­Ø¬Ù…: ${(file.size / 1024 / 1024).toFixed(2)} Ù…ÙŠØ¬Ø§Ø¨Ø§ÙŠØª</small>
                `;
                wrapper.style.borderColor = 'var(--success-color)';
                wrapper.style.background = 'linear-gradient(135deg, #e8f5e8 0%, #c8e6c9 100%)';
            }
        }

        function setRating(starsContainer, rating) {
            starsContainer.dataset.rating = rating;
            highlightStars(starsContainer, rating);
            showNotification(`ØªÙ… ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ø¹Ù†ØµØ± Ø¨Ù€ ${rating} Ù†Ø¬ÙˆÙ…`, 'success');
        }

        function highlightStars(starsContainer, rating) {
            const stars = starsContainer.querySelectorAll('.star');
            stars.forEach((star, index) => {
                if (index < rating) {
                    star.classList.add('active');
                } else {
                    star.classList.remove('active');
                }
            });
        }

        function animateProgress(elementId, from, to, duration) {
            const element = document.getElementById(elementId);
            const startTime = performance.now();
            
            function updateProgress(currentTime) {
                const elapsed = currentTime - startTime;
                const progress = Math.min(elapsed / duration, 1);
                const currentValue = from + (to - from) * progress;
                
                element.style.width = currentValue + '%';
                
                if (progress < 1) {
                    requestAnimationFrame(updateProgress);
                }
            }
            
            requestAnimationFrame(updateProgress);
        }

        function animateNumber(element, from, to, duration) {
            const startTime = performance.now();
            
            function updateNumber(currentTime) {
                const elapsed = currentTime - startTime;
                const progress = Math.min(elapsed / duration, 1);
                const currentValue = Math.floor(from + (to - from) * progress);
                
                element.textContent = currentValue + '%';
                
                if (progress < 1) {
                    requestAnimationFrame(updateNumber);
                }
            }
            
            requestAnimationFrame(updateNumber);
        }

        function updateStats() {
            document.getElementById('totalCandidates').textContent = systemStats.totalCandidates;
            document.getElementById('processedCVs').textContent = systemStats.processedCVs;
            document.getElementById('interviewsCompleted').textContent = systemStats.interviewsCompleted;
            document.getElementById('successRate').textContent = systemStats.successRate + '%';
        }

        function showNotification(message, type = 'success') {
            const notification = document.getElementById('notification');
            notification.textContent = message;
            notification.className = `notification ${type} show`;
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, 4000);
        }

        function saveData() {
            localStorage.setItem('candidateData', JSON.stringify(candidateData));
            localStorage.setItem('systemStats', JSON.stringify(systemStats));
        }

        function loadSavedData() {
            const savedCandidate = localStorage.getItem('candidateData');
            const savedStats = localStorage.getItem('systemStats');
            
            if (savedCandidate) {
                candidateData = JSON.parse(savedCandidate);
            }
            
            if (savedStats) {
                systemStats = JSON.parse(savedStats);
            }
        }

        function initializeCharts() {
            // Performance Chart
            const performanceCtx = document.getElementById('performanceChart');
            if (performanceCtx) {
                new Chart(performanceCtx, {
                    type: 'line',
                    data: {
                        labels: ['ÙŠÙ†Ø§ÙŠØ±', 'ÙØ¨Ø±Ø§ÙŠØ±', 'Ù…Ø§Ø±Ø³', 'Ø£Ø¨Ø±ÙŠÙ„', 'Ù…Ø§ÙŠÙˆ', 'ÙŠÙˆÙ†ÙŠÙˆ'],
                        datasets: [{
                            label: 'ÙƒÙØ§Ø¡Ø© Ø§Ù„Ù†Ø¸Ø§Ù…',
                            data: [85, 88, 92, 89, 94, 96],
                            borderColor: 'var(--primary-color)',
                            backgroundColor: 'rgba(52, 152, 219, 0.1)',
                            tension: 0.4
                        }]
                    },
                    options: {
                        responsive: true,
                        plugins: {
                            title: {
                                display: true,
                                text: 'Ø£Ø¯Ø§Ø¡ Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ø´Ù‡Ø±ÙŠ'
                            }
                        }
                    }
                });
            }

            // Success Chart
            const successCtx = document.getElementById('successChart');
            if (successCtx) {
                new Chart(successCtx, {
                    type: 'doughnut',
                    data: {
                        labels: ['Ù†Ø¬Ø­', 'Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©', 'Ø±ÙÙØ¶'],
                        datasets: [{
                            data: [75, 15, 10],
                            backgroundColor: [
                                'var(--success-color)',
                                'var(--warning-color)',
                                'var(--danger-color)'
                            ]
                        }]
                    },
                    options: {
                        responsive: true,
                        plugins: {
                            title: {
                                display: true,
                                text: 'Ù…Ø¹Ø¯Ù„Ø§Øª Ù†Ø¬Ø§Ø­ Ø§Ù„ØªÙˆØ¸ÙŠÙ'
                            }
                        }
                    }
                });
            }
        }

        // Export Functions
        function exportToPDF() {
            showNotification('Ø¬Ø§Ø±ÙŠ ØªØ­Ø¶ÙŠØ± Ù…Ù„Ù PDF...', 'success');
            // Implement PDF export logic
            setTimeout(() => {
                showNotification('ØªÙ… ØªØµØ¯ÙŠØ± PDF Ø¨Ù†Ø¬Ø§Ø­', 'success');
            }, 2000);
        }

        function exportToWord() {
            showNotification('Ø¬Ø§Ø±ÙŠ ØªØ­Ø¶ÙŠØ± Ù…Ù„Ù Word...', 'success');
            // Implement Word export logic
            setTimeout(() => {
                showNotification('ØªÙ… ØªØµØ¯ÙŠØ± Word Ø¨Ù†Ø¬Ø§Ø­', 'success');
            }, 2000);
        }

        function exportToExcel() {
            showNotification('Ø¬Ø§Ø±ÙŠ ØªØ­Ø¶ÙŠØ± Ù…Ù„Ù Excel...', 'success');
            // Implement Excel export logic
            setTimeout(() => {
                showNotification('ØªÙ… ØªØµØ¯ÙŠØ± Excel Ø¨Ù†Ø¬Ø§Ø­', 'success');
            }, 2000);
        }

        function shareReport() {
            const url = window.location.href;
            navigator.clipboard.writeText(url).then(() => {
                showNotification('ØªÙ… Ù†Ø³Ø® Ø±Ø§Ø¨Ø· Ø§Ù„ØªÙ‚Ø±ÙŠØ±', 'success');
            });
        }
    </script>
</body>
</html>
